<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Â•ëÁ¥Ñ‰ºÅÊ•≠‰∏ÄË¶ß - ‰∏çÂãïÁî£„Éù„Éº„Çø„É´ÁÆ°ÁêÜÁîªÈù¢</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f9f9f9;
            color: #2c2c2c;
        }

        /* „Éò„ÉÉ„ÉÄ„Éº */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 60px;
            background: #2c2c2c;
            color: white;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 20px;
            z-index: 1000;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .header h1 {
            font-size: 20px;
            font-weight: 600;
            cursor: pointer;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        /* „É°„Ç§„É≥„Ç≥„É≥„ÉÜ„É≥„ÉÑ */
        .main-content {
            margin-top: 60px;
            padding: 30px;
            max-width: 1400px;
            margin-left: auto;
            margin-right: auto;
        }

        .breadcrumb {
            background: white;
            padding: 15px 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 0 1px 2px rgba(0,0,0,0.1);
            border: 1px solid #e0e0e0;
            font-size: 14px;
            color: #6a6a6a;
        }

        .page-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
        }

        .page-title {
            font-size: 28px;
            font-weight: 600;
            color: #2c2c2c;
        }

        .action-buttons {
            display: flex;
            gap: 10px;
        }

        /* „Éú„Çø„É≥ */
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.2s ease;
        }

        .btn-primary {
            background: #4a4a4a;
            color: white;
        }

        .btn-primary:hover {
            background: #3a3a3a;
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .btn-success {
            background: #2e7d32;
            color: white;
        }

        .btn-success:hover {
            background: #1b5e20;
        }

        .btn-sm {
            padding: 6px 12px;
            font-size: 12px;
        }

        /* Áµ±Ë®à„Ç´„Éº„Éâ */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            border: 1px solid #e0e0e0;
            text-align: center;
        }

        .stat-number {
            font-size: 32px;
            font-weight: 700;
            color: #4a4a4a;
            margin-bottom: 5px;
        }

        .stat-number.warning {
            color: #f57c00;
        }

        .stat-label {
            color: #7a7a7a;
            font-size: 14px;
        }

        /* Ê§úÁ¥¢„Éª„Éï„Ç£„É´„Çø„Éº */
        .search-filter-section {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            border: 1px solid #e0e0e0;
        }

        .search-controls {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .search-input {
            flex: 1;
            padding: 10px 12px;
            border: 1px solid #c0c0c0;
            border-radius: 6px;
            font-size: 14px;
        }

        /* „Éá„Éº„Çø„ÉÜ„Éº„Éñ„É´ */
        .data-table {
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            border: 1px solid #e0e0e0;
        }

        .table-header {
            background: #f5f5f5;
            padding: 20px 25px;
            border-bottom: 1px solid #d0d0d0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .table-title {
            font-size: 18px;
            font-weight: 600;
            color: #4a4a4a;
        }

        .sort-select {
            padding: 6px 10px;
            border: 1px solid #c0c0c0;
            border-radius: 4px;
            font-size: 12px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        thead th {
            background: #f5f5f5;
            padding: 15px 12px;
            text-align: left;
            font-weight: 600;
            font-size: 14px;
            border-bottom: 2px solid #d0d0d0;
            cursor: pointer;
            position: relative;
        }

        .sort-arrow {
            margin-left: 5px;
            color: #6a6a6a;
            font-size: 10px;
        }

        tbody td {
            padding: 15px 12px;
            border-bottom: 1px solid #e8e8e8;
            font-size: 14px;
            vertical-align: middle;
        }

        tbody tr:hover {
            background: #f9f9f9;
        }

        /* „Ç´„ÉÜ„Ç¥„É™„Éê„ÉÉ„Ç∏ */
        .category-badge {
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 11px;
            font-weight: 500;
            background: #e8e8ff;
            color: #5555aa;
            display: inline-block;
            margin: 1px;
        }

        /* „É¢„Éº„ÉÄ„É´ */
        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
        }

        .modal.show {
            display: block;
        }

        .modal-content {
            background-color: white;
            margin: 5% auto;
            padding: 0;
            border-radius: 12px;
            width: 90%;
            max-width: 800px;
            max-height: 80vh;
            overflow-y: auto;
        }

        .modal-header {
            background: #2c2c2c;
            color: white;
            padding: 20px 25px;
            border-radius: 12px 12px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-title {
            font-size: 18px;
            font-weight: 600;
        }

        .close {
            background: none;
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
        }

        .modal-body {
            padding: 25px;
        }

        .detail-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .detail-item {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 6px;
        }

        .detail-label {
            font-size: 12px;
            color: #6a6a6a;
            margin-bottom: 5px;
        }

        .detail-value {
            font-size: 14px;
            color: #2c2c2c;
            font-weight: 500;
        }

        /* „Ç¢„ÇØ„Ç∑„Éß„É≥„É°„Éã„É•„Éº */
        .action-menu {
            position: relative;
            display: inline-block;
        }

        .action-button {
            background: #4a4a4a;
            color: white;
            border: none;
            border-radius: 50%;
            width: 32px;
            height: 32px;
            cursor: pointer;
            font-size: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
        }

        .action-button:hover {
            background: #3a3a3a;
            transform: scale(1.1);
        }

        .action-popover {
            position: absolute;
            top: 40px;
            right: 0;
            background: white;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            padding: 8px 0;
            min-width: 150px;
            z-index: 1000;
            display: none;
        }

        .action-popover.show {
            display: block;
        }

        .action-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            cursor: pointer;
            font-size: 14px;
            color: #2c2c2c;
            transition: background 0.2s ease;
        }

        .action-item:hover {
            background: #f5f5f5;
        }

        .action-item-icon {
            font-size: 16px;
            width: 18px;
            text-align: center;
        }

        /* „Ç¢„ÇØ„Ç∑„Éß„É≥„Ç¢„Ç§„ÉÜ„É†„ÅÆËâ≤ÂàÜ„Åë */
        .action-item.detail:hover {
            background: #e3f2fd;
            color: #1976d2;
        }

        .action-item.edit:hover {
            background: #fff3e0;
            color: #f57c00;
        }

        .action-item.member:hover {
            background: #e8f5e8;
            color: #2e7d32;
        }
    </style>
</head>
<body>
    <!-- „Éò„ÉÉ„ÉÄ„Éº -->
    <header class="header">
        <h1 onclick="window.location.href='index.html'">üè† ‰∏çÂãïÁî£„Éù„Éº„Çø„É´ÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†</h1>
        <div class="user-info">
            <span>Áî∞‰∏≠ Â§™ÈÉé„Åï„ÇìÔºàÈÅãÂñ∂ËÄÖÔºâ</span>
            <button class="btn btn-secondary">„É≠„Ç∞„Ç¢„Ç¶„Éà</button>
        </div>
    </header>

    <!-- „É°„Ç§„É≥„Ç≥„É≥„ÉÜ„É≥„ÉÑ -->
    <main class="main-content">
        <div class="breadcrumb">
            <a href="index.html" style="color: #6a6a6a; text-decoration: none;">„Éõ„Éº„É†</a> > Â•ëÁ¥Ñ‰ºÅÊ•≠ÁÆ°ÁêÜ > ‰ºÅÊ•≠‰∏ÄË¶ß
        </div>

        <div class="page-header">
            <h2 class="page-title">üè¢ ‰ºÅÊ•≠‰∏ÄË¶ß</h2>
            <div class="action-buttons">
                <button class="btn btn-secondary">CSV„Ç®„ÇØ„Çπ„Éù„Éº„Éà</button>
                <button class="btn btn-primary" onclick="window.location.href='company_register.html'">Êñ∞Ë¶è‰ºÅÊ•≠ÁôªÈå≤</button>
            </div>
        </div>

        <!-- Áµ±Ë®à„Ç´„Éº„Éâ -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-number">47</div>
                <div class="stat-label">ÁôªÈå≤‰ºÅÊ•≠Êï∞</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">12</div>
                <div class="stat-label">‰ªäÊúàÊñ∞Ë¶èÁôªÈå≤</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">3</div>
                <div class="stat-label">ÂÅúÊ≠¢‰∏≠</div>
            </div>
        </div>

        <!-- Ê§úÁ¥¢„Éª„Éï„Ç£„É´„Çø„Éº -->
        <div class="search-filter-section">
            <div class="search-controls">
                <input type="text" id="companySearchBox" class="search-input" placeholder="‰ºÅÊ•≠Âêç„ÄÅID„ÄÅÈõªË©±Áï™Âè∑„ÄÅ„É°„Éº„É´„Ç¢„Éâ„É¨„Çπ„ÅßÊ§úÁ¥¢..." onkeyup="searchCompanies()">
                <button class="btn btn-secondary" onclick="clearSearch()">„ÇØ„É™„Ç¢</button>
            </div>
        </div>

        <!-- „Éá„Éº„Çø„ÉÜ„Éº„Éñ„É´ -->
        <div class="data-table">
            <div class="table-header">
                <h3 class="table-title">‰ºÅÊ•≠„É™„Çπ„Éà</h3>
                <div class="table-controls">
                    <select class="sort-select" onchange="sortTable(this.value)">
                        <option value="id_asc">ID (ÊòáÈ†Ü)</option>
                        <option value="id_desc">ID (ÈôçÈ†Ü)</option>
                        <option value="name_asc">‰ºÅÊ•≠Âêç (ÊòáÈ†Ü)</option>
                        <option value="name_desc">‰ºÅÊ•≠Âêç (ÈôçÈ†Ü)</option>
                        <option value="date_asc">ÁôªÈå≤Êó• (ÊòáÈ†Ü)</option>
                        <option value="date_desc">ÁôªÈå≤Êó• (ÈôçÈ†Ü)</option>
                    </select>
                </div>
            </div>
            
            <table id="companyTable">
                <thead>
                    <tr>
                        <th onclick="sortTableByColumn(0)">ID <span class="sort-arrow"></span></th>
                        <th onclick="sortTableByColumn(1)">‰ºÅÊ•≠Âêç <span class="sort-arrow"></span></th>
                        <th onclick="sortTableByColumn(2)">‰ª£Ë°®ËÄÖÂêç <span class="sort-arrow"></span></th>
                        <th onclick="sortTableByColumn(3)">‰ΩèÊâÄ <span class="sort-arrow"></span></th>
                        <th onclick="sortTableByColumn(4)">ÈõªË©±Áï™Âè∑ <span class="sort-arrow"></span></th>
                        <th onclick="sortTableByColumn(5)">„É°„Éº„É´„Ç¢„Éâ„É¨„Çπ <span class="sort-arrow"></span></th>
                        <th onclick="sortTableByColumn(6)">Âèñ„ÇäÊâ±„ÅÑÁ®ÆÂà•<span class="sort-arrow"></span></th>
                        <th onclick="sortTableByColumn(7)">ÁôªÈå≤Êó• <span class="sort-arrow"></span></th>
                        <th>Êìç‰Ωú</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>C001</td>
                        <td>
                            <div style="font-weight: 600;">Ê†™Âºè‰ºöÁ§æÂ±±Áî∞Âª∫Ë®≠</div>
                            <small style="color: #7a7a7a;">„Ç´„Éñ„Ç∑„Ç≠„Ç¨„Ç§„Ç∑„É£„É§„Éû„ÉÄ„Ç±„É≥„Çª„ÉÑ</small>
                        </td>
                        <td>Â±±Áî∞ Â§™ÈÉé</td>
                        <td>
                            <div>„Äí160-0023</div>
                            <div>Êù±‰∫¨ÈÉΩÊñ∞ÂÆøÂå∫Ë•øÊñ∞ÂÆø1-1-1</div>
                        </td>
                        <td>03-1234-5678</td>
                        <td>info@yamada-kensetsu.co.jp</td>
                        <td>
                            <span class="category-badge">Ê≥®Êñá‰ΩèÂÆÖ</span>
                            <span class="category-badge">Êñ∞ÁØâÊà∏Âª∫„Å¶</span>
                        </td>
                        <td>2025-01-15</td>
                        <td>
                            <div class="action-menu">
                                <button class="action-button" onclick="toggleActionMenu(this, 'C001')">‚ãÆ</button>
                                <div class="action-popover">
                                    <div class="action-item detail" onclick="openDetailModal('C001')">
                                        <span class="action-item-icon">üìÑ</span>
                                        <span>Ë©≥Á¥∞</span>
                                    </div>
                                    <div class="action-item edit" onclick="editCompany('C001')">
                                        <span class="action-item-icon">‚úèÔ∏è</span>
                                        <span>Á∑®ÈõÜ</span>
                                    </div>
                                    <div class="action-item member" onclick="manageMembers('C001')">
                                        <span class="action-item-icon">üë•</span>
                                        <span>„É°„É≥„Éê„ÉºÁÆ°ÁêÜ</span>
                                    </div>
                                </div>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>C002</td>
                        <td>
                            <div style="font-weight: 600;">Áî∞‰∏≠‰∏çÂãïÁî£Ê†™Âºè‰ºöÁ§æ</div>
                            <small style="color: #7a7a7a;">„Çø„Éä„Ç´„Éï„Éâ„Ç¶„Çµ„É≥„Ç´„Éñ„Ç∑„Ç≠„Ç¨„Ç§„Ç∑„É£</small>
                        </td>
                        <td>Áî∞‰∏≠ Ëä±Â≠ê</td>
                        <td>
                            <div>„Äí530-0001</div>
                            <div>Â§ßÈò™Â∫úÂ§ßÈò™Â∏ÇÂåóÂå∫Ê¢ÖÁî∞2-2-2</div>
                        </td>
                        <td>06-9876-5432</td>
                        <td>contact@tanaka-fudosan.co.jp</td>
                        <td>
                            <span class="category-badge">ÂúüÂú∞</span>
                            <span class="category-badge">Êñ∞ÁØâ„Éû„É≥„Ç∑„Éß„É≥</span>
                            <span class="category-badge">‰∏≠Âè§„Éû„É≥„Ç∑„Éß„É≥</span>
                        </td>
                        <td>2025-02-20</td>
                        <td>
                            <div class="action-menu">
                                <button class="action-button" onclick="toggleActionMenu(this, 'C002')">‚ãÆ</button>
                                <div class="action-popover">
                                    <div class="action-item detail" onclick="openDetailModal('C002')">
                                        <span class="action-item-icon">üìÑ</span>
                                        <span>Ë©≥Á¥∞</span>
                                    </div>
                                    <div class="action-item edit" onclick="editCompany('C002')">
                                        <span class="action-item-icon">‚úèÔ∏è</span>
                                        <span>Á∑®ÈõÜ</span>
                                    </div>
                                    <div class="action-item member" onclick="manageMembers('C002')">
                                        <span class="action-item-icon">üë•</span>
                                        <span>„É°„É≥„Éê„ÉºÁÆ°ÁêÜ</span>
                                    </div>
                                </div>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>C003</td>
                        <td>
                            <div style="font-weight: 600;">‰ΩêËó§„Éè„Ç¶„Ç∏„É≥„Ç∞</div>
                            <small style="color: #7a7a7a;">„Çµ„Éà„Ç¶„Éè„Ç¶„Ç∏„É≥„Ç∞</small>
                        </td>
                        <td>‰ΩêËó§ ‰∏ÄÈÉé</td>
                        <td>
                            <div>„Äí460-0008</div>
                            <div>ÊÑõÁü•ÁúåÂêçÂè§Â±ãÂ∏Ç‰∏≠Âå∫Èå¶3-3-3</div>
                        </td>
                        <td>052-1111-2222</td>
                        <td>sales@sato-housing.com</td>
                        <td>
                            <span class="category-badge">Ê≥®Êñá‰ΩèÂÆÖ</span>
                            <span class="category-badge">Êñ∞ÁØâÊà∏Âª∫„Å¶</span>
                            <span class="category-badge">‰∏≠Âè§Êà∏Âª∫</span>
                        </td>
                        <td>2025-03-10</td>
                        <td>
                            <div class="action-menu">
                                <button class="action-button" onclick="toggleActionMenu(this, 'C003')">‚ãÆ</button>
                                <div class="action-popover">
                                    <div class="action-item detail" onclick="openDetailModal('C003')">
                                        <span class="action-item-icon">üìÑ</span>
                                        <span>Ë©≥Á¥∞</span>
                                    </div>
                                    <div class="action-item edit" onclick="editCompany('C003')">
                                        <span class="action-item-icon">‚úèÔ∏è</span>
                                        <span>Á∑®ÈõÜ</span>
                                    </div>
                                    <div class="action-item member" onclick="manageMembers('C003')">
                                        <span class="action-item-icon">üë•</span>
                                        <span>„É°„É≥„Éê„ÉºÁÆ°ÁêÜ</span>
                                    </div>
                                </div>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>C004</td>
                        <td>
                            <div style="font-weight: 600;">Èà¥Êú®Â∑•ÂãôÂ∫óÊúâÈôê‰ºöÁ§æ</div>
                            <small style="color: #7a7a7a;">„Çπ„Ç∫„Ç≠„Ç≥„Ç¶„É†„ÉÜ„É≥„É¶„Ç¶„Ç≤„É≥„Ç¨„Ç§„Ç∑„É£</small>
                        </td>
                        <td>Èà¥Êú® ÁæéÂí≤</td>
                        <td>
                            <div>„Äí812-0013</div>
                            <div>Á¶èÂ≤°ÁúåÁ¶èÂ≤°Â∏ÇÂçöÂ§öÂå∫ÈßÖÊù±4-4-4</div>
                        </td>
                        <td>092-3333-4444</td>
                        <td>office@suzuki-koumuten.co.jp</td>
                        <td>
                            <span class="category-badge">Ê≥®Êñá‰ΩèÂÆÖ</span>
                            <span class="category-badge">Êñ∞ÁØâÊà∏Âª∫„Å¶</span>
                        </td>
                        <td>2025-04-05</td>
                        <td>
                            <div class="action-menu">
                                <button class="action-button" onclick="toggleActionMenu(this, 'C004')">‚ãÆ</button>
                                <div class="action-popover">
                                    <div class="action-item detail" onclick="openDetailModal('C004')">
                                        <span class="action-item-icon">üìÑ</span>
                                        <span>Ë©≥Á¥∞</span>
                                    </div>
                                    <div class="action-item edit" onclick="editCompany('C004')">
                                        <span class="action-item-icon">‚úèÔ∏è</span>
                                        <span>Á∑®ÈõÜ</span>
                                    </div>
                                    <div class="action-item member" onclick="manageMembers('C004')">
                                        <span class="action-item-icon">üë•</span>
                                        <span>„É°„É≥„Éê„ÉºÁÆ°ÁêÜ</span>
                                    </div>
                                </div>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>C005</td>
                        <td>
                            <div style="font-weight: 600;">È´òÊ©ã„Éá„Éô„É≠„ÉÉ„Éó„É°„É≥„ÉàÊ†™Âºè‰ºöÁ§æ</div>
                            <small style="color: #7a7a7a;">„Çø„Ç´„Éè„Ç∑„Éá„Éô„É≠„ÉÉ„Éó„É°„É≥„Éà„Ç´„Éñ„Ç∑„Ç≠„Ç¨„Ç§„Ç∑„É£</small>
                        </td>
                        <td>È´òÊ©ã ÂÅ•Â§™</td>
                        <td>
                            <div>„Äí060-0042</div>
                            <div>ÂåóÊµ∑ÈÅìÊú≠ÂπåÂ∏Ç‰∏≠Â§ÆÂå∫Â§ßÈÄöË•ø5-5-5</div>
                        </td>
                        <td>011-5555-6666</td>
                        <td>info@takahashi-dev.jp</td>
                        <td>
                            <span class="category-badge">ÂúüÂú∞</span>
                            <span class="category-badge">Êñ∞ÁØâ„Éû„É≥„Ç∑„Éß„É≥</span>
                            <span class="category-badge">‰∏≠Âè§„Éû„É≥„Ç∑„Éß„É≥</span>
                            <span class="category-badge">‰∏≠Âè§Êà∏Âª∫</span>
                        </td>
                        <td>2025-05-12</td>
                        <td>
                            <div class="action-menu">
                                <button class="action-button" onclick="toggleActionMenu(this, 'C005')">‚ãÆ</button>
                                <div class="action-popover">
                                    <div class="action-item detail" onclick="openDetailModal('C005')">
                                        <span class="action-item-icon">üìÑ</span>
                                        <span>Ë©≥Á¥∞</span>
                                    </div>
                                    <div class="action-item edit" onclick="editCompany('C005')">
                                        <span class="action-item-icon">‚úèÔ∏è</span>
                                        <span>Á∑®ÈõÜ</span>
                                    </div>
                                    <div class="action-item member" onclick="manageMembers('C005')">
                                        <span class="action-item-icon">üë•</span>
                                        <span>„É°„É≥„Éê„ÉºÁÆ°ÁêÜ</span>
                                    </div>
                                </div>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </main>

    <!-- Ë©≥Á¥∞„É¢„Éº„ÉÄ„É´ -->
    <div id="detailModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">‰ºÅÊ•≠Ë©≥Á¥∞ÊÉÖÂ†±</h3>
                <button class="close" onclick="closeModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="detail-grid">
                    <div class="detail-item">
                        <div class="detail-label">‰ºÅÊ•≠ID</div>
                        <div class="detail-value" id="modal-company-id">C001</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">‰ºÅÊ•≠Âêç</div>
                        <div class="detail-value" id="modal-company-name">Ê†™Âºè‰ºöÁ§æÂ±±Áî∞Âª∫Ë®≠</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">‰ª£Ë°®ËÄÖÂêç</div>
                        <div class="detail-value" id="modal-representative">Â±±Áî∞ Â§™ÈÉé</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">ÈõªË©±Áï™Âè∑</div>
                        <div class="detail-value" id="modal-phone">03-1234-5678</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">„É°„Éº„É´„Ç¢„Éâ„É¨„Çπ</div>
                        <div class="detail-value" id="modal-email">info@yamada-kensetsu.co.jp</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">ÁôªÈå≤Êó•</div>
                        <div class="detail-value" id="modal-registration-date">2025-01-15</div>
                    </div>
                </div>

                <div class="detail-item" style="margin-top: 20px;">
                    <div class="detail-label">‰ΩèÊâÄ</div>
                    <div class="detail-value" id="modal-address">„Äí160-0023 Êù±‰∫¨ÈÉΩÊñ∞ÂÆøÂå∫Ë•øÊñ∞ÂÆø1-1-1</div>
                </div>

                <div style="display: flex; gap: 10px; justify-content: flex-end; margin-top: 30px;">
                    <button class="btn btn-secondary" onclick="closeModal()">Èñâ„Åò„Çã</button>
                    <button class="btn btn-primary" onclick="editCompanyFromModal()">Á∑®ÈõÜ„Åô„Çã</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentCompanyId = null;

        // Ë©≥Á¥∞„É¢„Éº„ÉÄ„É´Ë°®Á§∫
        function openDetailModal(companyId) {
            currentCompanyId = companyId;
            document.getElementById('modal-company-id').textContent = companyId;
            
            // „Çµ„É≥„Éó„É´„Éá„Éº„ÇøÔºàÂÆüÈöõ„ÅÆÂÆüË£Ö„Åß„ÅØ API„Åã„ÇâÂèñÂæóÔºâ
            const companyData = {
                'C001': {
                    name: 'Ê†™Âºè‰ºöÁ§æÂ±±Áî∞Âª∫Ë®≠',
                    representative: 'Â±±Áî∞ Â§™ÈÉé',
                    phone: '03-1234-5678',
                    email: 'info@yamada-kensetsu.co.jp',
                    address: '„Äí160-0023 Êù±‰∫¨ÈÉΩÊñ∞ÂÆøÂå∫Ë•øÊñ∞ÂÆø1-1-1',
                    registrationDate: '2025-01-15'
                }
            };

            const data = companyData[companyId] || companyData['C001'];
            document.getElementById('modal-company-name').textContent = data.name;
            document.getElementById('modal-representative').textContent = data.representative;
            document.getElementById('modal-phone').textContent = data.phone;
            document.getElementById('modal-email').textContent = data.email;
            document.getElementById('modal-address').textContent = data.address;
            document.getElementById('modal-registration-date').textContent = data.registrationDate;

            document.getElementById('detailModal').classList.add('show');
        }

        // „É¢„Éº„ÉÄ„É´Èñâ„Åò„Çã
        function closeModal() {
            document.getElementById('detailModal').classList.remove('show');
        }

        // „É¢„Éº„ÉÄ„É´„Åã„ÇâÁ∑®ÈõÜÁîªÈù¢„Å∏
        function editCompanyFromModal() {
            closeModal();
            editCompany(currentCompanyId);
        }

        // ‰ºÅÊ•≠Á∑®ÈõÜ
        function editCompany(companyId) {
            window.location.href = 'company_edit.html?edit=' + companyId;
        }

        // „É°„É≥„Éê„ÉºÁÆ°ÁêÜ
        function manageMembers(companyId) {
            window.location.href = 'company_member_management.html?company=' + companyId;
        }

        // ‰ºÅÊ•≠Ê§úÁ¥¢
        function searchCompanies() {
            const searchTerm = document.getElementById('companySearchBox').value.toLowerCase();
            const table = document.getElementById('companyTable');
            const rows = table.getElementsByTagName('tbody')[0].getElementsByTagName('tr');

            Array.from(rows).forEach(row => {
                const cells = row.getElementsByTagName('td');
                let found = false;
                
                Array.from(cells).forEach(cell => {
                    if (cell.textContent.toLowerCase().includes(searchTerm)) {
                        found = true;
                    }
                });
                
                row.style.display = found ? '' : 'none';
            });
        }

        // Ê§úÁ¥¢„ÇØ„É™„Ç¢
        function clearSearch() {
            document.getElementById('companySearchBox').value = '';
            searchCompanies();
        }

        // „ÉÜ„Éº„Éñ„É´„ÇΩ„Éº„Éà
        function sortTable(sortType) {
            const table = document.getElementById('companyTable');
            const tbody = table.getElementsByTagName('tbody')[0];
            const rows = Array.from(tbody.getElementsByTagName('tr'));
            
            const [field, order] = sortType.split('_');
            const columnIndex = {
                'id': 0,
                'name': 1,
                'date': 7
            }[field];

            rows.sort((a, b) => {
                const aValue = a.cells[columnIndex].textContent.trim();
                const bValue = b.cells[columnIndex].textContent.trim();
                
                const comparison = aValue.localeCompare(bValue);
                return order === 'asc' ? comparison : -comparison;
            });

            rows.forEach(row => tbody.appendChild(row));
        }

        // „Ç´„É©„É†„ÇØ„É™„ÉÉ„ÇØ„Åß„ÇΩ„Éº„Éà
        function sortTableByColumn(columnIndex) {
            // Á∞°ÊòìÂÆüË£ÖÔºàÂÆüÈöõ„ÅÆÂÆüË£Ö„Åß„ÅØ „Çà„ÇäË©≥Á¥∞„Å™„ÇΩ„Éº„ÉàÂá¶ÁêÜÔºâ
            console.log('Sorting by column:', columnIndex);
        }

        // „Ç¢„ÇØ„Ç∑„Éß„É≥„É°„Éã„É•„Éº„ÅÆÂàá„ÇäÊõø„Åà
        function toggleActionMenu(button, companyId) {
            const popover = button.nextElementSibling;
            const isVisible = popover.classList.contains('show');
            
            // ‰ªñ„ÅÆ„Éù„ÉÉ„Éó„Ç™„Éº„Éê„Éº„ÇíÂÖ®„Å¶Èñâ„Åò„Çã
            document.querySelectorAll('.action-popover').forEach(p => {
                p.classList.remove('show');
            });
            
            // „ÇØ„É™„ÉÉ„ÇØ„Åï„Çå„Åü„Éù„ÉÉ„Éó„Ç™„Éº„Éê„Éº„ÅÆË°®Á§∫Âàá„ÇäÊõø„Åà
            if (!isVisible) {
                popover.classList.add('show');
            }
        }

        // „Éâ„Ç≠„É•„É°„É≥„Éà„ÇØ„É™„ÉÉ„ÇØ„Åß„Éù„ÉÉ„Éó„Ç™„Éº„Éê„Éº„ÇíÈñâ„Åò„Çã
        document.addEventListener('click', function(event) {
            if (!event.target.closest('.action-menu')) {
                document.querySelectorAll('.action-popover').forEach(popover => {
                    popover.classList.remove('show');
                });
            }
        });

        // „É¢„Éº„ÉÄ„É´Â§ñ„ÇØ„É™„ÉÉ„ÇØ„ÅßÈñâ„Åò„Çã
        window.onclick = function(event) {
            const modal = document.getElementById('detailModal');
            if (event.target === modal) {
                closeModal();
            }
        }
    </script>
</body>
</html>