<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¼·ã¿ã“ã ã‚ã‚Šç®¡ç† - ä¸å‹•ç”£ãƒãƒ¼ã‚¿ãƒ«ç®¡ç†ç”»é¢</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f5f5f5;
            line-height: 1.6;
        }

        .header {
            background-color: #2c2c2c;
            color: white;
            padding: 15px 20px;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 60px;
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .header h1 {
            font-size: 18px;
            font-weight: 500;
        }

        .user-info {
            font-size: 14px;
        }

        .sidebar {
            position: fixed;
            top: 60px;
            left: 0;
            width: 280px;
            height: calc(100vh - 60px);
            background-color: #f9f9f9;
            border-right: 1px solid #ddd;
            overflow-y: auto;
            z-index: 999;
        }

        .sidebar ul {
            list-style: none;
        }

        .sidebar > ul > li > a {
            display: block;
            padding: 15px 20px;
            color: #333;
            text-decoration: none;
            border-bottom: 1px solid #eee;
            font-weight: 500;
        }

        .sidebar > ul > li > a:hover {
            background-color: #e9e9e9;
        }

        .main-content {
            margin-left: 280px;
            margin-top: 60px;
            padding: 30px;
            min-height: calc(100vh - 60px);
        }

        .page-header {
            background-color: white;
            padding: 25px 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 30px;
            border-left: 4px solid #28a745;
        }

        .page-header h2 {
            color: #333;
            font-size: 24px;
            margin-bottom: 8px;
        }

        .page-header p {
            color: #666;
            font-size: 14px;
        }

        .content-wrapper {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .form-section {
            padding: 30px;
            border-bottom: 1px solid #f0f0f0;
        }

        .form-section:last-child {
            border-bottom: none;
        }

        .form-section h3 {
            color: #333;
            font-size: 18px;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #28a745;
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #333;
        }

        .form-group.required label::after {
            content: " *";
            color: #dc3545;
        }

        .form-control {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
            transition: border-color 0.3s ease;
        }

        .form-control:focus {
            outline: none;
            border-color: #28a745;
            box-shadow: 0 0 0 2px rgba(40,167,69,0.25);
        }

        textarea.form-control {
            resize: vertical;
            min-height: 120px;
        }

        .form-row {
            display: flex;
            gap: 20px;
        }

        .form-col {
            flex: 1;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            text-decoration: none;
            display: inline-block;
            text-align: center;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background-color: #007bff;
            color: white;
        }

        .btn-primary:hover {
            background-color: #0056b3;
        }

        .btn-secondary {
            background-color: #6c757d;
            color: white;
            margin-right: 10px;
        }

        .btn-secondary:hover {
            background-color: #545b62;
        }

        .btn-success {
            background-color: #28a745;
            color: white;
        }

        .btn-success:hover {
            background-color: #1e7e34;
        }

        .btn-danger {
            background-color: #dc3545;
            color: white;
        }

        .btn-danger:hover {
            background-color: #c82333;
        }

        .btn-outline {
            background-color: transparent;
            border: 1px solid #28a745;
            color: #28a745;
        }

        .btn-outline:hover {
            background-color: #28a745;
            color: white;
        }

        .action-buttons {
            padding: 30px;
            background-color: #f8f9fa;
            text-align: center;
            gap: 15px;
            display: flex;
            justify-content: center;
        }

        .strength-item {
            border: 1px solid #e9ecef;
            border-radius: 8px;
            margin-bottom: 20px;
            padding: 25px;
            background-color: #fafafa;
            position: relative;
        }

        .strength-item:hover {
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .strength-header {
            display: flex;
            justify-content: between;
            align-items: center;
            margin-bottom: 20px;
        }

        .strength-number {
            background-color: #28a745;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 18px;
        }

        .strength-actions {
            display: flex;
            gap: 10px;
        }

        .file-upload-area {
            border: 2px dashed #ddd;
            border-radius: 8px;
            padding: 30px 20px;
            text-align: center;
            background-color: #fafafa;
            transition: border-color 0.3s ease;
        }

        .file-upload-area:hover {
            border-color: #28a745;
            background-color: #f0f8ff;
        }

        .file-upload-area input[type="file"] {
            display: none;
        }

        .upload-text {
            color: #666;
            margin-bottom: 10px;
        }

        .upload-btn {
            background-color: #28a745;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }

        .icon-selector {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .icon-option {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 15px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .icon-option:hover {
            border-color: #28a745;
            background-color: #f8fff8;
        }

        .icon-option.selected {
            border-color: #28a745;
            background-color: #e8f5e8;
        }

        .icon-option span {
            font-size: 24px;
            margin-bottom: 5px;
        }

        .icon-option small {
            font-size: 12px;
            color: #666;
        }

        .preview-section {
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 6px;
            margin-top: 15px;
            border: 1px solid #e9ecef;
        }

        .preview-section h4 {
            color: #333;
            margin-bottom: 15px;
            font-size: 16px;
        }

        .preview-content {
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid #e9ecef;
            display: flex;
            align-items: flex-start;
            gap: 20px;
        }

        .preview-icon {
            font-size: 48px;
            color: #28a745;
            flex-shrink: 0;
        }

        .preview-text {
            flex: 1;
        }

        .preview-title {
            font-size: 18px;
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
        }

        .preview-description {
            color: #666;
            line-height: 1.6;
        }

        @media (max-width: 768px) {
            .form-row {
                flex-direction: column;
            }
            
            .icon-selector {
                grid-template-columns: repeat(3, 1fr);
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>ä¸å‹•ç”£ãƒãƒ¼ã‚¿ãƒ«ç®¡ç†ç”»é¢</h1>
        <div class="user-info">
            ç®¡ç†è€…: ç”°ä¸­å¤ªéƒ | <a href="#" style="color: #ccc;">ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ</a>
        </div>
    </div>

    <div class="sidebar">
        <ul>
            <li><a href="index.html">ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</a></li>
            <li><a href="#" onclick="toggleSubmenu(this)">ç‰©ä»¶ç®¡ç† â–¼</a>
                <ul style="display: block; background-color: #f0f0f0;">
                    <li><a href="model_house_list.html" style="padding-left: 40px;">ãƒ¢ãƒ‡ãƒ«ãƒã‚¦ã‚¹</a></li>
                    <li><a href="company_overview.html" style="padding-left: 40px;">ä¼šç¤¾æ¦‚è¦</a></li>
                    <li><a href="company_strengths.html" style="padding-left: 40px; background-color: #e8f5e8;">å¼·ã¿ã“ã ã‚ã‚Š</a></li>
                    <li><a href="event_setting.html" style="padding-left: 40px;">ã‚¤ãƒ™ãƒ³ãƒˆ</a></li>
                </ul>
            </li>
            <li><a href="catalog_custom_home_list.html">ã‚«ã‚¿ãƒ­ã‚°ç®¡ç†</a></li>
            <li><a href="tour_schedule_list.html">è¦‹å­¦ãƒ„ã‚¢ãƒ¼ç®¡ç†</a></li>
            <li><a href="company_register.html">ä¼æ¥­ç™»éŒ²</a></li>
            <li><a href="member_list.html">ãƒ¡ãƒ³ãƒãƒ¼ç®¡ç†</a></li>
            <li><a href="inquiry_management.html">ãŠå•ã„åˆã‚ã›ç®¡ç†</a></li>
            <li><a href="referral_list.html">é€å®¢ç®¡ç†</a></li>
        </ul>
    </div>

    <div class="main-content">
        <div class="page-header">
            <h2>å¼·ã¿ã“ã ã‚ã‚Šç®¡ç†</h2>
            <p>ãŠå®¢æ§˜ã«å‘ã‘ã¦ä¼šç¤¾ã®å¼·ã¿ã‚„ç‰¹å¾´ã€ã“ã ã‚ã‚Šã®ãƒã‚¤ãƒ³ãƒˆã‚’ç·¨é›†ãƒ»ç®¡ç†ã—ã¾ã™</p>
        </div>

        <div class="content-wrapper">
            <form>
                <!-- ãƒ¡ã‚¤ãƒ³ã‚­ãƒ£ãƒƒãƒãƒ•ãƒ¬ãƒ¼ã‚º -->
                <div class="form-section">
                    <h3>ãƒ¡ã‚¤ãƒ³ã‚­ãƒ£ãƒƒãƒãƒ•ãƒ¬ãƒ¼ã‚º</h3>
                    <div class="form-group required">
                        <label for="main_catchphrase">ã‚­ãƒ£ãƒƒãƒãƒ•ãƒ¬ãƒ¼ã‚º</label>
                        <input type="text" id="main_catchphrase" class="form-control" placeholder="ãŠå®¢æ§˜ã®ç†æƒ³ã‚’å¶ãˆã‚‹å®¶ã¥ãã‚Šã®ãƒ—ãƒ­é›†å›£">
                    </div>
                    <div class="form-group">
                        <label for="main_description">èª¬æ˜æ–‡</label>
                        <textarea id="main_description" class="form-control" placeholder="ç§ãŸã¡ã¯ã€å‰µæ¥­30å¹´ã®çµŒé¨“ã¨å®Ÿç¸¾ã‚’æ´»ã‹ã—ã€ãŠå®¢æ§˜ä¸€äººã²ã¨ã‚Šã®å¤¢ã‚„ç†æƒ³ã‚’å½¢ã«ã™ã‚‹å®¶ã¥ãã‚Šã‚’ãŠç´„æŸã„ãŸã—ã¾ã™ã€‚"></textarea>
                    </div>
                </div>

                <!-- ä¼æ¥­ãŒé¸ã°ã‚Œã‚‹ç†ç”±ï¼ˆcbh_company_recommendsï¼‰ -->
                <div class="form-section">
                    <h3>ä¼æ¥­ãŒé¸ã°ã‚Œã‚‹ç†ç”±</h3>
                    <p style="color: #666; margin-bottom: 30px;">ãŠå®¢æ§˜ã«é¸ã°ã‚Œã‚‹ç†ç”±ã‚„ãƒã‚¤ãƒ³ãƒˆã‚’è¨­å®šã§ãã¾ã™ã€‚å„é …ç›®ã«ã¯ã‚¿ã‚¤ãƒˆãƒ«ã€èª¬æ˜æ–‡ã€ç”»åƒã‚’è¨­å®šã—ã¦ãã ã•ã„ã€‚</p>

                    <!-- é¸ã°ã‚Œã‚‹ç†ç”±é …ç›®1 -->
                    <div class="strength-item" id="strength_1">
                        <div class="strength-header">
                            <div class="strength-number">1</div>
                            <div class="strength-actions">
                                <button type="button" class="btn btn-outline btn-sm" onclick="moveStrengthUp(1)">â†‘</button>
                                <button type="button" class="btn btn-outline btn-sm" onclick="moveStrengthDown(1)">â†“</button>
                                <button type="button" class="btn btn-danger btn-sm" onclick="removeStrength(1)">å‰Šé™¤</button>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-col">
                                <div class="form-group required">
                                    <label for="strength_title_1">ã‚¿ã‚¤ãƒˆãƒ«</label>
                                    <input type="text" id="strength_title_1" class="form-control" placeholder="è‡ªç„¶ç´ æã¸ã®ã“ã ã‚ã‚Š" onchange="updatePreview(1)">
                                </div>
                                <div class="form-group">
                                    <label for="strength_sort_order_1">è¡¨ç¤ºé †åº</label>
                                    <input type="number" id="strength_sort_order_1" class="form-control" value="1" min="1">
                                </div>
                            </div>
                            <div class="form-col">
                                <div class="form-group">
                                    <label>ãƒ¡ã‚¤ãƒ³ç”»åƒ</label>
                                    <div class="file-upload-area">
                                        <div class="upload-text">é¸ã°ã‚Œã‚‹ç†ç”±ã®ç”»åƒã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</div>
                                        <div class="upload-text" style="font-size: 12px; color: #999;">æ¨å¥¨ã‚µã‚¤ã‚º: 600Ã—400pxã€å½¢å¼: PNG, JPG</div>
                                        <input type="file" id="strength_image_1" accept="image/*">
                                        <button type="button" class="upload-btn" onclick="document.getElementById('strength_image_1').click()">ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠ</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="form-group required">
                            <label for="strength_description_1">èª¬æ˜æ–‡</label>
                            <textarea id="strength_description_1" class="form-control" style="min-height: 120px;" placeholder="å›½ç”£ã®ç„¡å¢æã‚„çªè—»åœŸãªã©ã€å³é¸ã—ãŸè‡ªç„¶ç´ æã‚’ä½¿ç”¨ã—ã€å®¶æ—ã®å¥åº·ã¨å¿«é©ãªä½ç’°å¢ƒã‚’å®Ÿç¾ã—ã¾ã™ã€‚" onchange="updatePreview(1)"></textarea>
                        </div>

                        <!-- è¿½åŠ ç”»åƒï¼ˆcbh_company_recommend_imagesï¼‰ -->
                        <div class="form-group">
                            <label>è¿½åŠ ç”»åƒ</label>
                            <div id="additional_images_1">
                                <div class="image-item" style="border: 1px solid #e9ecef; border-radius: 6px; padding: 15px; margin-bottom: 15px;">
                                    <div class="form-row">
                                        <div class="form-col">
                                            <div class="form-group">
                                                <label>ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«</label>
                                                <div class="file-upload-area" style="padding: 20px;">
                                                    <div class="upload-text">è¿½åŠ ç”»åƒã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</div>
                                                    <input type="file" id="strength_add_image_1_1" accept="image/*">
                                                    <button type="button" class="upload-btn" onclick="document.getElementById('strength_add_image_1_1').click()">ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠ</button>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-col">
                                            <div class="form-group">
                                                <label for="strength_add_title_1_1">ç”»åƒã‚¿ã‚¤ãƒˆãƒ«</label>
                                                <input type="text" id="strength_add_title_1_1" class="form-control" placeholder="ç”»åƒã‚¿ã‚¤ãƒˆãƒ«">
                                            </div>
                                            <div class="form-group">
                                                <label for="strength_add_description_1_1">ç”»åƒèª¬æ˜</label>
                                                <textarea id="strength_add_description_1_1" class="form-control" placeholder="ç”»åƒã®èª¬æ˜"></textarea>
                                            </div>
                                        </div>
                                    </div>
                                    <div style="text-align: right;">
                                        <button type="button" class="btn btn-danger btn-sm" onclick="removeAdditionalImage(1, 1)">å‰Šé™¤</button>
                                    </div>
                                </div>
                            </div>
                            <div style="text-align: center; margin-top: 10px;">
                                <button type="button" class="btn btn-outline btn-sm" onclick="addAdditionalImage(1)">+ ç”»åƒã‚’è¿½åŠ </button>
                            </div>
                        </div>

                        <div class="preview-section">
                            <h4>ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼</h4>
                            <div class="preview-content" id="preview_1">
                                <div class="preview-text">
                                    <div class="preview-title">ã‚¿ã‚¤ãƒˆãƒ«ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„</div>
                                    <div class="preview-description">èª¬æ˜æ–‡ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„</div>
                                    <div style="color: #999; font-size: 12px; margin-top: 10px;">ç”»åƒ: ãƒ¡ã‚¤ãƒ³ç”»åƒ + è¿½åŠ ç”»åƒãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- å¼·ã¿é …ç›®2 -->
                    <div class="strength-item" id="strength_2">
                        <div class="strength-header">
                            <div class="strength-number">2</div>
                            <div class="strength-actions">
                                <button type="button" class="btn btn-outline btn-sm" onclick="moveStrengthUp(2)">â†‘</button>
                                <button type="button" class="btn btn-outline btn-sm" onclick="moveStrengthDown(2)">â†“</button>
                                <button type="button" class="btn btn-danger btn-sm" onclick="removeStrength(2)">å‰Šé™¤</button>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-col">
                                <div class="form-group required">
                                    <label for="strength_title_2">ã‚¿ã‚¤ãƒˆãƒ«</label>
                                    <input type="text" id="strength_title_2" class="form-control" placeholder="ã‚¢ãƒ•ã‚¿ãƒ¼ã‚µãƒãƒ¼ãƒˆå……å®Ÿ" onchange="updatePreview(2)">
                                </div>
                            </div>
                            <div class="form-col">
                                <div class="form-group">
                                    <label>ã‚¢ã‚¤ã‚³ãƒ³é¸æŠ</label>
                                    <div class="icon-selector">
                                        <div class="icon-option" onclick="selectIcon(2, 'ğŸ ', 'å®¶')">
                                            <span>ğŸ </span>
                                            <small>å®¶</small>
                                        </div>
                                        <div class="icon-option" onclick="selectIcon(2, 'ğŸŒ²', 'è‡ªç„¶')">
                                            <span>ğŸŒ²</span>
                                            <small>è‡ªç„¶</small>
                                        </div>
                                        <div class="icon-option" onclick="selectIcon(2, 'ğŸ’', 'å“è³ª')">
                                            <span>ğŸ’</span>
                                            <small>å“è³ª</small>
                                        </div>
                                        <div class="icon-option" onclick="selectIcon(2, 'âš¡', 'ã‚¹ãƒ”ãƒ¼ãƒ‰')">
                                            <span>âš¡</span>
                                            <small>ã‚¹ãƒ”ãƒ¼ãƒ‰</small>
                                        </div>
                                        <div class="icon-option selected" onclick="selectIcon(2, 'ğŸ›¡ï¸', 'å®‰å¿ƒ')">
                                            <span>ğŸ›¡ï¸</span>
                                            <small>å®‰å¿ƒ</small>
                                        </div>
                                        <div class="icon-option" onclick="selectIcon(2, 'ğŸ‘¥', 'ãƒãƒ¼ãƒ ')">
                                            <span>ğŸ‘¥</span>
                                            <small>ãƒãƒ¼ãƒ </small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="form-group required">
                            <label for="strength_description_2">èª¬æ˜æ–‡</label>
                            <textarea id="strength_description_2" class="form-control" placeholder="å¼•ãæ¸¡ã—å¾Œã‚‚å®‰å¿ƒã—ã¦ã„ãŸã ã‘ã‚‹ã‚ˆã†ã€å®šæœŸç‚¹æ¤œã‚„24æ™‚é–“ã‚µãƒãƒ¼ãƒˆä½“åˆ¶ã‚’æ•´ãˆã¦ã„ã¾ã™ã€‚" onchange="updatePreview(2)"></textarea>
                        </div>

                        <div class="preview-section">
                            <h4>ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼</h4>
                            <div class="preview-content" id="preview_2">
                                <div class="preview-icon">ğŸ›¡ï¸</div>
                                <div class="preview-text">
                                    <div class="preview-title">ã‚¿ã‚¤ãƒˆãƒ«ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„</div>
                                    <div class="preview-description">èª¬æ˜æ–‡ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- å¼·ã¿é …ç›®3 -->
                    <div class="strength-item" id="strength_3">
                        <div class="strength-header">
                            <div class="strength-number">3</div>
                            <div class="strength-actions">
                                <button type="button" class="btn btn-outline btn-sm" onclick="moveStrengthUp(3)">â†‘</button>
                                <button type="button" class="btn btn-outline btn-sm" onclick="moveStrengthDown(3)">â†“</button>
                                <button type="button" class="btn btn-danger btn-sm" onclick="removeStrength(3)">å‰Šé™¤</button>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-col">
                                <div class="form-group required">
                                    <label for="strength_title_3">ã‚¿ã‚¤ãƒˆãƒ«</label>
                                    <input type="text" id="strength_title_3" class="form-control" placeholder="çµŒé¨“è±Šå¯Œãªè¨­è¨ˆãƒãƒ¼ãƒ " onchange="updatePreview(3)">
                                </div>
                            </div>
                            <div class="form-col">
                                <div class="form-group">
                                    <label>ã‚¢ã‚¤ã‚³ãƒ³é¸æŠ</label>
                                    <div class="icon-selector">
                                        <div class="icon-option" onclick="selectIcon(3, 'ğŸ ', 'å®¶')">
                                            <span>ğŸ </span>
                                            <small>å®¶</small>
                                        </div>
                                        <div class="icon-option" onclick="selectIcon(3, 'ğŸŒ²', 'è‡ªç„¶')">
                                            <span>ğŸŒ²</span>
                                            <small>è‡ªç„¶</small>
                                        </div>
                                        <div class="icon-option" onclick="selectIcon(3, 'ğŸ’', 'å“è³ª')">
                                            <span>ğŸ’</span>
                                            <small>å“è³ª</small>
                                        </div>
                                        <div class="icon-option" onclick="selectIcon(3, 'âš¡', 'ã‚¹ãƒ”ãƒ¼ãƒ‰')">
                                            <span>âš¡</span>
                                            <small>ã‚¹ãƒ”ãƒ¼ãƒ‰</small>
                                        </div>
                                        <div class="icon-option" onclick="selectIcon(3, 'ğŸ›¡ï¸', 'å®‰å¿ƒ')">
                                            <span>ğŸ›¡ï¸</span>
                                            <small>å®‰å¿ƒ</small>
                                        </div>
                                        <div class="icon-option selected" onclick="selectIcon(3, 'ğŸ‘¥', 'ãƒãƒ¼ãƒ ')">
                                            <span>ğŸ‘¥</span>
                                            <small>ãƒãƒ¼ãƒ </small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="form-group required">
                            <label for="strength_description_3">èª¬æ˜æ–‡</label>
                            <textarea id="strength_description_3" class="form-control" placeholder="ä¸€ç´šå»ºç¯‰å£«ã‚’ã¯ã˜ã‚ã¨ã™ã‚‹å°‚é–€çŸ¥è­˜è±Šå¯Œãªã‚¹ã‚¿ãƒƒãƒ•ãŒã€ãŠå®¢æ§˜ã®ã”è¦æœ›ã‚’å®Ÿç¾ã—ã¾ã™ã€‚" onchange="updatePreview(3)"></textarea>
                        </div>

                        <div class="preview-section">
                            <h4>ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼</h4>
                            <div class="preview-content" id="preview_3">
                                <div class="preview-icon">ğŸ‘¥</div>
                                <div class="preview-text">
                                    <div class="preview-title">ã‚¿ã‚¤ãƒˆãƒ«ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„</div>
                                    <div class="preview-description">èª¬æ˜æ–‡ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div style="text-align: center; margin-top: 30px;">
                        <button type="button" class="btn btn-outline" onclick="addStrength()">+ å¼·ã¿é …ç›®ã‚’è¿½åŠ </button>
                    </div>
                </div>

                <!-- ã‚¢ã‚¯ã‚·ãƒ§ãƒ³éƒ¨åˆ† -->
                <div class="action-buttons">
                    <button type="button" class="btn btn-secondary">ä¸‹æ›¸ãä¿å­˜</button>
                    <button type="button" class="btn btn-primary" onclick="showPreview()">å…¨ä½“ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼</button>
                    <button type="submit" class="btn btn-success">å…¬é–‹</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        let strengthCount = 3;
        let additionalImageCounts = {1: 1, 2: 1, 3: 1};

        function toggleSubmenu(element) {
            const submenu = element.nextElementSibling;
            if (submenu) {
                submenu.style.display = submenu.style.display === 'none' ? 'block' : 'none';
            }
        }

        function updatePreview(strengthIndex) {
            const title = document.getElementById(`strength_title_${strengthIndex}`).value || 'ã‚¿ã‚¤ãƒˆãƒ«ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„';
            const description = document.getElementById(`strength_description_${strengthIndex}`).value || 'èª¬æ˜æ–‡ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„';

            const preview = document.getElementById(`preview_${strengthIndex}`);
            preview.innerHTML = `
                <div class="preview-text">
                    <div class="preview-title">${title}</div>
                    <div class="preview-description">${description}</div>
                    <div style="color: #999; font-size: 12px; margin-top: 10px;">ç”»åƒ: ãƒ¡ã‚¤ãƒ³ç”»åƒ + è¿½åŠ ç”»åƒãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™</div>
                </div>
            `;
        }

        // è¿½åŠ ç”»åƒã®ç®¡ç†
        function addAdditionalImage(strengthIndex) {
            if (!additionalImageCounts[strengthIndex]) {
                additionalImageCounts[strengthIndex] = 0;
            }
            additionalImageCounts[strengthIndex]++;
            
            const container = document.getElementById(`additional_images_${strengthIndex}`);
            const newImageHTML = `
                <div class="image-item" style="border: 1px solid #e9ecef; border-radius: 6px; padding: 15px; margin-bottom: 15px;" data-strength="${strengthIndex}" data-image="${additionalImageCounts[strengthIndex]}">
                    <div class="form-row">
                        <div class="form-col">
                            <div class="form-group">
                                <label>ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«</label>
                                <div class="file-upload-area" style="padding: 20px;">
                                    <div class="upload-text">è¿½åŠ ç”»åƒã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</div>
                                    <input type="file" id="strength_add_image_${strengthIndex}_${additionalImageCounts[strengthIndex]}" accept="image/*">
                                    <button type="button" class="upload-btn" onclick="document.getElementById('strength_add_image_${strengthIndex}_${additionalImageCounts[strengthIndex]}').click()">ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠ</button>
                                </div>
                            </div>
                        </div>
                        <div class="form-col">
                            <div class="form-group">
                                <label for="strength_add_title_${strengthIndex}_${additionalImageCounts[strengthIndex]}">ç”»åƒã‚¿ã‚¤ãƒˆãƒ«</label>
                                <input type="text" id="strength_add_title_${strengthIndex}_${additionalImageCounts[strengthIndex]}" class="form-control" placeholder="ç”»åƒã‚¿ã‚¤ãƒˆãƒ«">
                            </div>
                            <div class="form-group">
                                <label for="strength_add_description_${strengthIndex}_${additionalImageCounts[strengthIndex]}">ç”»åƒèª¬æ˜</label>
                                <textarea id="strength_add_description_${strengthIndex}_${additionalImageCounts[strengthIndex]}" class="form-control" placeholder="ç”»åƒã®èª¬æ˜"></textarea>
                            </div>
                        </div>
                    </div>
                    <div style="text-align: right;">
                        <button type="button" class="btn btn-danger btn-sm" onclick="removeAdditionalImage(${strengthIndex}, ${additionalImageCounts[strengthIndex]})">å‰Šé™¤</button>
                    </div>
                </div>
            `;
            container.insertAdjacentHTML('beforeend', newImageHTML);
        }

        function removeAdditionalImage(strengthIndex, imageIndex) {
            const item = document.querySelector(`[data-strength="${strengthIndex}"][data-image="${imageIndex}"]`);
            if (item && confirm('ã“ã®ç”»åƒã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ')) {
                item.remove();
            }
        }

        function addStrength() {
            if (strengthCount >= 6) {
                alert('å¼·ã¿é …ç›®ã¯æœ€å¤§6å€‹ã¾ã§è¿½åŠ ã§ãã¾ã™ã€‚');
                return;
            }

            strengthCount++;
            selectedIcons[strengthCount] = 'ğŸ’';

            const strengthSection = document.querySelector('.form-section:nth-child(3)');
            const addButton = strengthSection.querySelector('div[style*="text-align: center"]');

            const newStrengthHTML = `
                <div class="strength-item" id="strength_${strengthCount}">
                    <div class="strength-header">
                        <div class="strength-number">${strengthCount}</div>
                        <div class="strength-actions">
                            <button type="button" class="btn btn-outline btn-sm" onclick="moveStrengthUp(${strengthCount})">â†‘</button>
                            <button type="button" class="btn btn-outline btn-sm" onclick="moveStrengthDown(${strengthCount})">â†“</button>
                            <button type="button" class="btn btn-danger btn-sm" onclick="removeStrength(${strengthCount})">å‰Šé™¤</button>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-col">
                            <div class="form-group required">
                                <label for="strength_title_${strengthCount}">ã‚¿ã‚¤ãƒˆãƒ«</label>
                                <input type="text" id="strength_title_${strengthCount}" class="form-control" placeholder="å¼·ã¿ã®ã‚¿ã‚¤ãƒˆãƒ«" onchange="updatePreview(${strengthCount})">
                            </div>
                        </div>
                        <div class="form-col">
                            <div class="form-group">
                                <label>ã‚¢ã‚¤ã‚³ãƒ³é¸æŠ</label>
                                <div class="icon-selector">
                                    <div class="icon-option" onclick="selectIcon(${strengthCount}, 'ğŸ ', 'å®¶')">
                                        <span>ğŸ </span>
                                        <small>å®¶</small>
                                    </div>
                                    <div class="icon-option" onclick="selectIcon(${strengthCount}, 'ğŸŒ²', 'è‡ªç„¶')">
                                        <span>ğŸŒ²</span>
                                        <small>è‡ªç„¶</small>
                                    </div>
                                    <div class="icon-option selected" onclick="selectIcon(${strengthCount}, 'ğŸ’', 'å“è³ª')">
                                        <span>ğŸ’</span>
                                        <small>å“è³ª</small>
                                    </div>
                                    <div class="icon-option" onclick="selectIcon(${strengthCount}, 'âš¡', 'ã‚¹ãƒ”ãƒ¼ãƒ‰')">
                                        <span>âš¡</span>
                                        <small>ã‚¹ãƒ”ãƒ¼ãƒ‰</small>
                                    </div>
                                    <div class="icon-option" onclick="selectIcon(${strengthCount}, 'ğŸ›¡ï¸', 'å®‰å¿ƒ')">
                                        <span>ğŸ›¡ï¸</span>
                                        <small>å®‰å¿ƒ</small>
                                    </div>
                                    <div class="icon-option" onclick="selectIcon(${strengthCount}, 'ğŸ‘¥', 'ãƒãƒ¼ãƒ ')">
                                        <span>ğŸ‘¥</span>
                                        <small>ãƒãƒ¼ãƒ </small>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="form-group required">
                        <label for="strength_description_${strengthCount}">èª¬æ˜æ–‡</label>
                        <textarea id="strength_description_${strengthCount}" class="form-control" placeholder="å¼·ã¿ã®è©³ç´°èª¬æ˜" onchange="updatePreview(${strengthCount})"></textarea>
                    </div>

                    <div class="preview-section">
                        <h4>ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼</h4>
                        <div class="preview-content" id="preview_${strengthCount}">
                            <div class="preview-icon">ğŸ’</div>
                            <div class="preview-text">
                                <div class="preview-title">ã‚¿ã‚¤ãƒˆãƒ«ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„</div>
                                <div class="preview-description">èª¬æ˜æ–‡ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„</div>
                            </div>
                        </div>
                    </div>
                </div>
            `;

            addButton.insertAdjacentHTML('beforebegin', newStrengthHTML);
        }

        function removeStrength(strengthIndex) {
            if (strengthCount <= 1) {
                alert('å¼·ã¿é …ç›®ã¯æœ€ä½1å€‹å¿…è¦ã§ã™ã€‚');
                return;
            }

            if (confirm('ã“ã®å¼·ã¿é …ç›®ã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ')) {
                document.getElementById(`strength_${strengthIndex}`).remove();
                delete selectedIcons[strengthIndex];
                strengthCount--;
            }
        }

        function moveStrengthUp(strengthIndex) {
            const current = document.getElementById(`strength_${strengthIndex}`);
            const previous = current.previousElementSibling;
            if (previous && previous.classList.contains('strength-item')) {
                current.parentNode.insertBefore(current, previous);
            }
        }

        function moveStrengthDown(strengthIndex) {
            const current = document.getElementById(`strength_${strengthIndex}`);
            const next = current.nextElementSibling;
            if (next && next.classList.contains('strength-item')) {
                current.parentNode.insertBefore(next, current);
            }
        }

        function showPreview() {
            const catchphrase = document.getElementById('main_catchphrase').value;
            const description = document.getElementById('main_description').value;

            if (!catchphrase) {
                alert('ãƒ¡ã‚¤ãƒ³ã‚­ãƒ£ãƒƒãƒãƒ•ãƒ¬ãƒ¼ã‚ºã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚');
                return;
            }

            let strengthsList = '';
            for (let i = 1; i <= strengthCount; i++) {
                const titleElement = document.getElementById(`strength_title_${i}`);
                if (titleElement) {
                    const title = titleElement.value;
                    if (title) {
                        strengthsList += `\n- ${title}`;
                    }
                }
            }

            alert('å¼·ã¿ã“ã ã‚ã‚Šãƒšãƒ¼ã‚¸ã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚\n\nã‚­ãƒ£ãƒƒãƒãƒ•ãƒ¬ãƒ¼ã‚º: ' + catchphrase + '\nèª¬æ˜æ–‡: ' + description + '\n\nå¼·ã¿é …ç›®:' + strengthsList);
        }

        // åˆæœŸãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã®è¨­å®š
        document.addEventListener('DOMContentLoaded', function() {
            for (let i = 1; i <= 3; i++) {
                updatePreview(i);
            }
        });
    </script>
</body>
</html>