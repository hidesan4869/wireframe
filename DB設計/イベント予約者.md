# イベント予約者

## 予約者一覧API

### HTTP
```
HTTP: GET
```

### 概要
予約者一覧を取得します。フィルタリング、ページネーション、ソート機能をサポートしています。

### リクエストパラメータ

| パラメータ名 | 型 | 必須 | デフォルト値 | 説明 |
|------------|---|-----|------------|-----|
| `page` | integer | No | 1 | ページ番号（1以上） |
| `per_page` | integer | No | 50 | 1ページ当たりの件数（1-100） |
| `keyword` | string | No | "" | 顧客名、メールアドレス、イベント名で検索 |
| `company_id` | integer | No | "" | 特定の企業IDで絞り込み |
| `order_by` | string | No | "DESC" | ソート順（ASC: 昇順、DESC: 降順） |

### HTTPメソッド
```
HTTP: GET
```

### レスポンス

### 成功時（200 OK）
```json
{
    "meta": {
        "total_count": 125,
        "page": 1,
        "per_page": 50,
        "from": 1,
        "to": 2,
        "last_page": 1,
    },
    "links": {
        "first": "https://api.example.com/api/admin/catalog-requests?page=1",
        "last": "https://api.example.com/api/admin/catalog-requests?page=3",
        "prev": null,
        "next": "https://api.example.com/api/admin/catalog-requests?page=2"
    },
    "data": [
        {
            "id": 5001,
            "name01": "田中",
            "name02": "太郎",
            "kana01": "タナカ",
            "kana02": "タロウ",
            "email": "example@gmail.com",
            "phone_number": 09011112222,
            "preferred_contact_time": "18時頃",
            "desired_date": "2025/09/12",
            "desired_time": "11:00",
            "is_newsletter_subscribed": 1,
            "created_at": "2024-12-10T09:00:00Z",
            "updated_at": "2024-12-10T09:00:00Z",
            "event": {
                "id": 1000,
                "title": "イベントタイトル", // イベントタイトル
                "description": "イベント説明", // イベント説明
                "venue": "開催場所", // 開催場所
                "start_date": "開始日", // 開始日
                "end_date": "終了日", // 終了日
                "is_active": "公開設定フラグ", // 公開設定フラグ
                "postal_code": "郵便番号", // 郵便番号
                "prefecture_id": 13, // 都道府県ID
                "prefecture_name": "東京都", // 都道府県ID
                "addr01": "住所1（市区町村）", // 住所1（市区町村）
                "addr02": "住所2（番地・建物名）", // 住所2（番地・建物名）
                "time_required": "所要時間", // 所要時間
                "about_reservations": "予約について", // 予約について
                "reservation_deadline": "予約締切日", // 予約締切日
                "participation_fee_text": "参加費", // 参加費
                "tmp_save": 1, // 下書き保存 0: 下書き保存でない, 1: 下書き保存である
                "created_at": "2024-12-10T09:00:00Z", // 作成日時
                "updated_at": "2024-12-10T09:00:00Z", // 更新日時
            },
            "company": {
                "id": 2,
                "service_category_id": 1,
                "service_category_name": "注文住宅",
                "name": "テスト株式会社",
                "name_kana": "テストカブシキガイシャ",
                "representative_last_name": "杉山",
                "representative_first_name": "真綾",
                "postal_code": "5815719",
                "prefecture": "東京都",
                "city": "佐藤市",
                "address_line": "笹田町小泉9-7-7",
                "invoice_status_id": 2,
                "invoice_number": null,
                "invoice_scheduled_year": 1998,
                "invoice_scheduled_month": null,
                "phone_number": "080-8408-7043",
                "email": "youichi16@example.net",
                "url": "http://www.miyake.com/eum-doloremque-id-aut-libero-aliquam-veniam-corporis",
                "is_active": true,
                "created_at": "2025-09-10T00:49:08.000000Z",
                "updated_at": "2025-09-10T00:49:08.000000Z"
            }
        }
    ]
}
```

### エラー時
```json
{
    "success": false,
    "message": "",
    "errors": {}
}
```

---

## 詳細

### HTTPメソッド
```
HTTP: GET
```

### レスポンス

### 成功時（200 OK）

```json
{
    "id": 5001,
    "name01": "田中",
    "name02": "太郎",
    "kana01": "タナカ",
    "kana02": "タロウ",
    "email": "example@gmail.com",
    "phone_number": 09011112222,
    "preferred_contact_time": "18時頃",
    "desired_date": "2025/09/12",
    "desired_time": "11:00",
    "is_newsletter_subscribed": 1,
    "created_at": "2024-12-10T09:00:00Z",
    "updated_at": "2024-12-10T09:00:00Z",
    "event": {
        "id": 1000,
        "title": "イベントタイトル", // イベントタイトル
        "description": "イベント説明", // イベント説明
        "venue": "開催場所", // 開催場所
        "start_date": "開始日", // 開始日
        "end_date": "終了日", // 終了日
        "is_active": "公開設定フラグ", // 公開設定フラグ
        "postal_code": "郵便番号", // 郵便番号
        "prefecture_id": 13, // 都道府県ID
        "prefecture_name": "東京都", // 都道府県ID
        "addr01": "住所1（市区町村）", // 住所1（市区町村）
        "addr02": "住所2（番地・建物名）", // 住所2（番地・建物名）
        "time_required": "所要時間", // 所要時間
        "about_reservations": "予約について", // 予約について
        "reservation_deadline": "予約締切日", // 予約締切日
        "participation_fee_text": "参加費", // 参加費
        "tmp_save": 1, // 下書き保存 0: 下書き保存でない, 1: 下書き保存である
        "created_at": "2024-12-10T09:00:00Z", // 作成日時
        "updated_at": "2024-12-10T09:00:00Z", // 更新日時
    },
    "company": {
        "id": 2,
        "service_category_id": 1,
        "service_category_name": "注文住宅",
        "name": "テスト株式会社",
        "name_kana": "テストカブシキガイシャ",
        "representative_last_name": "杉山",
        "representative_first_name": "真綾",
        "postal_code": "5815719",
        "prefecture": "東京都",
        "city": "佐藤市",
        "address_line": "笹田町小泉9-7-7",
        "invoice_status_id": 2,
        "invoice_number": null,
        "invoice_scheduled_year": 1998,
        "invoice_scheduled_month": null,
        "phone_number": "080-8408-7043",
        "email": "youichi16@example.net",
        "url": "http://www.miyake.com/eum-doloremque-id-aut-libero-aliquam-veniam-corporis",
        "is_active": true,
        "created_at": "2025-09-10T00:49:08.000000Z",
        "updated_at": "2025-09-10T00:49:08.000000Z"
    }
}
```

### エラー時
```json
{
    "success": false,
    "message": "",
    "errors": {}
}
```

---

## 登録

### HTTPメソッド

```json
HTTP: POST
```

### リクエスト
```json
{
    [〇]"company_id": 1000,
    [〇]"event_id": 1000,
    [〇]"name01": "田中",
    [〇]"name02": "太郎",
    []"kana01": "タナカ",
    []"kana02": "タロウ",
    [〇]"email": "example@gmail.com",
    [〇]"phone_number": 09011112222,
    []"preferred_contact_time": "18時頃",
    [〇]"desired_date": "2025/09/12",
    [〇]"desired_time": "11:00",
    [〇]"is_newsletter_subscribed": 1,
}
```

### レスポンス
```json
// 正常
HTTP:201
{
    "success": true,
    "message": "",
    "data": {
        "id": 1000,
    }
}
```

```json
// エラー時
{
    "success": false,
    "message": "",
    "errors": {}
}
```

## 更新

### HTTPメソッド

```json
HTTP: PUT
```

### リクエスト
```json
{
    [〇]"id": 1000,
    [〇]"event_id": 1000,
    [〇]"name01": "田中",
    [〇]"name02": "太郎",
    []"kana01": "タナカ",
    []"kana02": "タロウ",
    [〇]"email": "example@gmail.com",
    [〇]"phone_number": 09011112222,
    []"preferred_contact_time": "18時頃",
    [〇]"desired_date": "2025/09/12",
    [〇]"desired_time": "11:00",
    [〇]"is_newsletter_subscribed": 1,
}
```

### レスポンス
```json
// 正常
HTTP:200
{
    "success": true,
    "message": "",
    "data": {
        "id": 1000,
    }
}
```

```json
// エラー時
{
    "success": false,
    "message": "",
    "errors": {}
}
```