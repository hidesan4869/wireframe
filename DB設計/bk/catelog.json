//*********注文住宅カタログ請求者一覧*************//

// 注文住宅カタログ請求者一覧

| パラメータ名 | 型 | 必須 | デフォルト値 | 説明 |
|------------|---|-----|------------|-----|
| `page` | integer | No | 1 | ページ番号（1以上） |
| `per_page` | integer | No | 50 | 1ページ当たりの件数（1-100） |
| `keyword` | string | No | "" | フリーワード検索（スペース区切りでAND検索） |
| `company_id` | integer | No | "" | 企業ID（空なら全件、IDがあれば該当企業のみ） |
| `period` | string | No | "" | 0: 昨日, 1: 1週間前, 2: 1ヵ月前, 3: 3ヵ月前など（確定していないので暫定でOK） |
| `order_by` | string | No | "DESC" | ソート順（ASC: 昇順、DESC: 降順） |

```
HTTP: GET
```

```
//リクエスト: HTTP GET
{
    "page": "1",
    "per_page": "50", // 1ページ当たりの件数
    "keyword": "株式会社 モダン", // カタログ名、企業名など フリーワード検索「スペース区切り」にてリクエストします
    "company_id": "", // 企業ID - 10001 - 空なら全件、IDがあれば該当する企業IDに紐づくデータ取得
    "service_type_id": "", // 注文住宅、土地など
    "period": "", // 期間
    "order_by": "DESC", // ID: ASC: 昇順, DESC: 降順
}
```

```
//レスポンス
{
    "meta": {
        "page": 1,
        "from": 1,
        "to": 2,
        "per_page": 50,
        "total_count": 150,
        "last_page": 3
    },
    "links": {
        "first": "https://api.example.com/api/admin/catalog-requests?page=1",
        "last": "https://api.example.com/api/admin/catalog-requests?page=3",
        "prev": null,
        "next": "https://api.example.com/api/admin/catalog-requests?page=2"
    },
    "data": [
        {
            "id": 1000,
            "last_name": "山田",
            "first_name": "太郎",
            "last_name_kana": "ヤマダ",
            "first_name_kana": "タロウ",
            "postal_code": "444-0991",
            "prefecture_id": 13,
            "prefecture_name": "東京都",
            "address1": "港区",
            "address2": "1-11",
            "email": "test@example.com",
            "age": "23",
            "phone_number": "09011112222",
            "preferred_contact_time": "18時頃",
            "is_house_building_hope": 1,
            "house_building_hope_prefecture_id": 13,
            "house_building_hope_prefecture_name": "東京都",
            "house_building_hope_address1": "港区",
            "house_building_hope_address2": "ほげほげ1-1-1",
            "is_land_availability": 1,
            "is_newsletter_subscribed": 1,
            "is_active": 1,
            "created_at": "2024-12-20T15:30:00Z",
            "updated_at": "2024-12-20T15:30:00Z",
            "catalog": {
                "id": 1000,
                "name": "モダンハウスカタログ2025",
                "description": "モダンハウスカタログ2025の説明",
                "code": "CD-000001",
                "image_path": "S3バケットURLから後ろのディレクトリパス",
                "category_id": {
                    "id": 1000,
                    "name": "総合",
                    "sort_no": 1
                },
                "service_category_id": {
                    "id": 1000,
                    "name": "注文住宅",
                    "sort_no": 1
                },
                "is_active": 1,
                "created_at": "2024-12-20T15:30:00Z",
                "updated_at": "2024-12-20T15:30:00Z",
            },
            "company": {
                "id": 2,
                "service_category_id": 1,
                "service_category_name": "注文住宅",
                "name": "テスト株式会社",
                "name_kana": "テストカブシキガイシャ",
                "representative_last_name": "杉山",
                "representative_first_name": "真綾",
                "postal_code": "5815719",
                "prefecture": "東京都",
                "city": "佐藤市",
                "address_line": "笹田町小泉9-7-7",
                "invoice_status_id": 2,
                "invoice_number": null,
                "invoice_scheduled_year": 1998,
                "invoice_scheduled_month": null,
                "phone_number": "080-8408-7043",
                "email": "youichi16@example.net",
                "url": "http://www.miyake.com/eum-doloremque-id-aut-libero-aliquam-veniam-corporis",
                "is_active": true,
                "created_at": "2025-09-10T00:49:08.000000Z",
                "updated_at": "2025-09-10T00:49:08.000000Z"
            }
        }
    ]
}
```

```
// エラー時
{
    "success": false,
    "message": "エラーが検出されました",
    "errors": {}
}
```

---

// 注文住宅カタログ請求詳細

| パラメータ名 | 型 | 必須 | 説明 |
|------------|---|-----|-----|
| `id` | integer | Yes | カタログID |

```
HTTP: GET
```

```
// レスポンス
{
    "id": 1000,
    "last_name": "山田",
    "first_name": "太郎",
    "last_name_kana": "ヤマダ",
    "first_name_kana": "タロウ",
    "postal_code": "444-0991",
    "prefecture_id": 13,
    "prefecture_name": "東京都",
    "address1": "港区",
    "address2": "1-11",
    "email": "test@example.com",
    "age": "23",
    "phone_number": "09011112222",
    "preferred_contact_time": "18時頃",
    "is_house_building_hope": 1,
    "house_building_hope_prefecture_id": 13,
    "house_building_hope_prefecture_name": "東京都",
    "house_building_hope_address1": "港区",
    "house_building_hope_address2": "ほげほげ1-1-1",
    "is_land_availability": 1,
    "is_newsletter_subscribed": 1,
    "is_active": 1,
    "created_at": "2024-12-20T15:30:00Z",
    "updated_at": "2024-12-20T15:30:00Z",
    "catalog": {
        "id": 1000,
        "name": "モダンハウスカタログ2025",
        "description": "モダンハウスカタログ2025の説明",
        "code": "CD-000001",
        "image_path": "S3バケットURLから後ろのディレクトリパス",
        "category_id": {
            "id": 1000,
            "name": "総合",
            "sort_no": 1
        },
        "service_category_id": {
            "id": 1000,
            "name": "注文住宅",
            "sort_no": 1
        },
        "is_active": 1,
        "created_at": "2024-12-20T15:30:00Z",
        "updated_at": "2024-12-20T15:30:00Z",
    },
    "company": {
        "id": 2,
        "service_category_id": 1,
        "service_category_name": "注文住宅",
        "name": "テスト株式会社",
        "name_kana": "テストカブシキガイシャ",
        "representative_last_name": "杉山",
        "representative_first_name": "真綾",
        "postal_code": "5815719",
        "prefecture": "東京都",
        "city": "佐藤市",
        "address_line": "笹田町小泉9-7-7",
        "invoice_status_id": 2,
        "invoice_number": null,
        "invoice_scheduled_year": 1998,
        "invoice_scheduled_month": null,
        "phone_number": "080-8408-7043",
        "email": "youichi16@example.net",
        "url": "http://www.miyake.com/eum-doloremque-id-aut-libero-aliquam-veniam-corporis",
        "is_active": true,
        "created_at": "2025-09-10T00:49:08.000000Z",
        "updated_at": "2025-09-10T00:49:08.000000Z"
    }
}
```

```
// エラー時
{
    "success": false,
    "message": "エラーが検出されました",
    "errors": {}
}
```

---

// [登録] 注文住宅カタログ請求者
```
HTTP: POST
```

```
// [〇]は必須項目 / API側でバリデーションチェック
{
    [〇]"company_id": 1000,
    [〇]"catalog_id": 9999,
    [〇]"last_name": "山田",
    [〇]"first_name": "太郎",
    []"last_name_kana": "ヤマダ",
    []"first_name_kana": "タロウ",
    [〇]"postal_code": "444-0991",
    [〇]"prefecture_id": 13,
    [〇]"prefecture_name": "東京都",
    [〇]"address1": "港区",
    []"address2": "1-11",
    [〇]"email": "test@example.com",
    []"age": "23",
    [〇]"phone_number": "09011112222",
    []"preferred_contact_time": "18時頃",
    [〇]"is_house_building_hope": 1,
    []"house_building_hope_prefecture_id": 13, //is_house_building_hopeが[1]なら必須
    []"house_building_hope_address1": "港区", //is_house_building_hopeが[1]なら必須
    []"house_building_hope_address2": "ほげほげ1-1-1",
    []"is_land_availability": 1, // 0: 土地の所有無し, 1: 土地の所有あり //is_house_building_hopeが[1]なら必須
    [〇]"is_newsletter_subscribed": 1, // // 0: 配信なし, 1: 配信あり
    [〇]"is_active": 1,
}
```

```
// 正常
HTTP:201
{
    "success": true,
    "message": "注文住宅カタログ請求者の登録が完了しました",
    "data": {
        "id": 1000,
    }
}
```

```
// エラー時
{
    "success": false,
    "message": "リクエストパラメータに誤りがあります",
    "errors": {}
}
```

---

// [更新] 注文住宅カタログ請求者

```
HTTP: PUT
```

```
// [〇]は必須項目 / API側でバリデーションチェック
{
    [〇]"id": 1000,
    [〇]"last_name": "山田",
    [〇]"first_name": "太郎",
    []"last_name_kana": "ヤマダ",
    []"first_name_kana": "タロウ",
    [〇]"postal_code": "444-0991",
    [〇]"prefecture_id": 13,
    [〇]"prefecture_name": "東京都",
    [〇]"address1": "港区",
    []"address2": "1-11",
    [〇]"email": "test@example.com",
    []"age": "23",
    [〇]"phone_number": "09011112222",
    []"preferred_contact_time": "18時頃",
    [〇]"is_house_building_hope": 1,
    []"house_building_hope_prefecture_id": 13, //is_house_building_hopeが[1]なら必須
    []"house_building_hope_address1": "港区", //is_house_building_hopeが[1]なら必須
    []"house_building_hope_address2": "ほげほげ1-1-1",
    []"is_land_availability": 1, // 0: 土地の所有無し, 1: 土地の所有あり //is_house_building_hopeが[1]なら必須
    [〇]"is_newsletter_subscribed": 1, // // 0: 配信なし, 1: 配信あり
    [〇]"is_active": 1,
}
```

```
// 正常
HTTP:200
{
    "success": true,
    "message": "注文住宅カタログ請求者の更新が完了しました",
    "data": {
        "id": 1000,
    }
}
```

```
// エラー時
{
    "success": false,
    "message": "リクエストパラメータに誤りがあります",
    "errors": {}
}
```


product_data_types
1. 工法
2. 商品名
3. 商品の坪単価帯
4. 標準工期
5. 部材・素材
6. 販売エリア