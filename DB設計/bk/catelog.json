//*********注文住宅カタログ検索用フィールド用API*************//

// リクエスト: HTTP GET
{
    "company_id": "10001", // 空なら全件、IDがあれば該当する企業IDに紐づくデータ取得
}

// レスポンス
{
    "companies": [
        {
            "id": "10001",
            "name": "株式会社山田建設",
            "catalog_count": 5  // オプション: この企業のカタログ数
        },
        {
            "id": "10002", 
            "name": "株式会社モダン",
            "catalog_count": 3
        }
    ],
    "statuses": [
        {
            "id": "0",
            "name": "非公開"
        },
        {
            "id": "1",
            "name": "公開中"
        }
    ],
    "categories": [
        {
            "id": "0",
            "name": "総合"
        },
        {
            "id": "1",
            "name": "施工実例集"
        },
        {
            "id": "2",
            "name": "商品"
        }
    ]
}

//*********注文住宅カタログ一覧*************//

//リクエスト: HTTP GET
{
    "page": "1",
    "per_page": "50", // 1ページ当たりの件数
    "free_word": "株式会社 モダン", // カタログ名、企業名など フリーワード検索「スペース区切り」にてリクエストします
    "company_id": "", // 企業ID - 10001 - 空なら全件、IDがあれば該当する企業IDに紐づくデータ取得
    "status": "", // 0: 非公開、1: 公開
    "category": "", // 0: 総合、1: 施工実例集, 2: 商品
    "order_by": "DESC", // ID: ASC: 昇順, DESC: 降順
}

//レスポンス(正常)
{
    "meta": {
        "total_count": "24",
        "active_count": "18",
        "inactive_count": "14",
        "page": "1",
        "per_page": "50",
    },
    "catalog_list": [
        {
            "id": 1000,
            "name": "モダンハウスカタログ2025",
            "description": "モダンハウスカタログ2025の説明",
            "company": {
                "id": "10001",
                "name": "株式会社山田建設",
            },
            "category": "総合",
            "status": "1",
            "image_path": "S3バケットURLから後ろのディレクトリパス",
            "created_at": "2025-01-01",
            "updated_at": "2025-01-01"
        },
        {
            "id": "1001",
            "name": "スマートホーム2025",
            "description": "スマートホーム2025の説明",
            "company": {
                "id": "10001",
                "name": "株式会社山田建設",
            },
            "category": "施工実例集",
            "status": "1",
            "image_path": "S3バケットURLから後ろのディレクトリパス",
            "created_at": "2025-01-01",
            "updated_at": "2025-01-01",
        }
    ]
}

//レスポンス(異常)
{
    "status": "Error",
    "message": "エラーメッセージ"
}

//*********注文住宅カタログ登録*************//

//リクエスト: HTTP - POST
{
    "company_id": "10001",
    "name": "モダンハウスカタログ2025",
    "description": "モダンハウスカタログ2025の説明",
    "code": "CD-000001",
    "category_id": "0",
    "status_id": "1",
    "image_path": "S3バケットURLから後ろのディレクトリパス",
    "is_active": "1" // 1: 有効, 0: 無効
}

//レスポンス(正常)
{
    "id": 1000,
    "message": "注文住宅カタログを登録しました"
}



//*********注文住宅カタログ編集*************//
//リクエスト: HTTP - PUT
{
    "id": 1000,
    "name": "モダンハウスカタログ2025",
    "description": "モダンハウスカタログ2025の説明",
    "code": "CD-000001",
    "category_id": "0",
    "status_id": "1",
    "image_path": "S3バケットURLから後ろのディレクトリパス",
    "is_active": "1" // 1: 有効, 0: 無効
}

//レスポンス(正常)
{
    "id": 1000,
    "message": "注文住宅カタログを編集しました"
}

//レスポンス(異常)
{
    "id": 1000,
    "message": "エラーメッセージ"
}

//*********注文住宅カタログ請求者一覧*************//

// 注文住宅カタログ請求者一覧

| パラメータ名 | 型 | 必須 | デフォルト値 | 説明 |
|------------|---|-----|------------|-----|
| `page` | integer | No | 1 | ページ番号（1以上） |
| `per_page` | integer | No | 50 | 1ページ当たりの件数（1-100） |
| `keyword` | string | No | "" | フリーワード検索（スペース区切りでAND検索） |
| `company_id` | integer | No | "" | 企業ID（空なら全件、IDがあれば該当企業のみ） |
| `period` | string | No | "" | 0: 昨日, 1: 1週間前, 2: 1ヵ月前, 3: 3ヵ月前など（確定していないので暫定でOK） |
| `order_by` | string | No | "DESC" | ソート順（ASC: 昇順、DESC: 降順） |

```
HTTP: GET
```

```
//リクエスト: HTTP GET
{
    "page": "1",
    "per_page": "50", // 1ページ当たりの件数
    "keyword": "株式会社 モダン", // カタログ名、企業名など フリーワード検索「スペース区切り」にてリクエストします
    "company_id": "", // 企業ID - 10001 - 空なら全件、IDがあれば該当する企業IDに紐づくデータ取得
    "service_type_id": "", // 注文住宅、土地など
    "period": "", // 期間
    "order_by": "DESC", // ID: ASC: 昇順, DESC: 降順
}
```

```
//レスポンス
{
    "meta": {
        "page": 1,
        "from": 1,
        "to": 2,
        "per_page": 50,
        "total_count": 150,
        "last_page": 3
    },
    "links": {
        "first": "https://api.example.com/api/admin/catalog-requests?page=1",
        "last": "https://api.example.com/api/admin/catalog-requests?page=3",
        "prev": null,
        "next": "https://api.example.com/api/admin/catalog-requests?page=2"
    },
    "data": [
        {
            "id": 1000,
            "name01": "テスト",
            "name02": "太郎",
            "kana01": "テスト",
            "kana02": "タロウ",
            "email": "test@test.com",
            "phone_number": "09012345678",
            "postal_code": "444-9999",
            "prefecture_id": "13",
            "prefecture_name": "東京都",
            "address01": "",
            "address02": "",
            "age": "22",
            "preferred_contact_time": "18時頃",
            "is_house_building_hope": 1, // 0:現住所と同じ, 1: 予定地・希望地の入力, 2: 決まっていない
            "house_building_hope_prefecture_id": 13,
            "house_building_hope_prefecture_name": "東京都",
            "house_building_hope_city": "港区",
            "is_land_availability": 0, // 0: 土地の所有無し, 1: 土地の所有あり
            "is_newsletter_subscribed": 1, // 0: 配信なし, 1: 配信あり
            "created_at": "2024-12-20T15:30:00Z",
            "updated_at": "2024-12-20T15:30:00Z",
            "catalog": {
                "id": 1000,
                "name": "モダンハウスカタログ2025",
                "description": "モダンハウスカタログ2025の説明",
                "code": "CD-000001",
                "image_path": "S3バケットURLから後ろのディレクトリパス",
                "category": "総合",
                "is_active": 1,
                "service_id": 1
            },
            "company": {
                "id": "10001",
                "name": "株式会社山田建設",
            },
        }
    ]
}
```

```
// エラー時
{
    "success": false,
    "message": "エラーが検出されました",
    "errors": {}
}
```

---

// 注文住宅カタログ請求詳細

| パラメータ名 | 型 | 必須 | 説明 |
|------------|---|-----|-----|
| `id` | integer | Yes | カタログID |

```
HTTP: GET
```

```
// リクエスト
{
    "id": 1000
}
```

```
// レスポンス
{
    "id": 1000,
    "name01": "テスト",
    "name02": "太郎",
    "kana01": "テスト",
    "kana02": "タロウ",
    "email": "test@test.com",
    "phone_number": "09012345678",
    "postal_code": "444-9999",
    "prefecture_id": "13",
    "prefecture_name": "東京都",
    "address01": "",
    "address02": "",
    "age": "22",
    "preferred_contact_time": "18時頃",
    "is_house_building_hope": 1, // 0:現住所と同じ, 1: 予定地・希望地の入力, 2: 決まっていない
    "house_building_hope_prefecture_id": 13,
    "house_building_hope_prefecture_name": "東京都",
    "house_building_hope_city": "港区",
    "is_land_availability": 0, // 0: 土地の所有無し, 1: 土地の所有あり
    "is_newsletter_subscribed": 1, // 0: 配信なし, 1: 配信あり
    "created_at": "2024-12-20T15:30:00Z",
    "updated_at": "2024-12-20T15:30:00Z",
    "catalog": {
        "id": 1000,
        "name": "モダンハウスカタログ2025",
        "description": "モダンハウスカタログ2025の説明",
        "code": "CD-000001",
        "image_path": "S3バケットURLから後ろのディレクトリパス",
        "category": "総合",
        "is_active": 1,
        "service_id": 1
    },
    "company": {
        "id": "10001",
        "name": "株式会社山田建設",
    },
}
```

```
// エラー時
{
    "success": false,
    "message": "エラーが検出されました",
    "errors": {}
}
```

---

// [登録] 注文住宅カタログ請求者
```
HTTP: POST
```

```
// [〇]は必須項目 / API側でバリデーションチェック
{
    [〇]"company_id": 1000,
    [〇]"catalog_id": 9999,
    [〇]"name01": "テスト",
    [〇]"name02": "太郎",
    []"kana01": "テスト",
    []"kana02": "タロウ",
    [〇]"email": "test@test.com",
    [〇]"phone_number": "09012345678",
    [〇]"postal_code": "444-9999",
    [〇]"prefecture_id": "13",
    [〇]"prefecture_name": "東京都",
    [〇]"address01": "",
    []"address02": "",
    []"age": "22",
    []"preferred_contact_time": "18時頃",
    [〇]"is_house_building_hope": 1, // 0:現住所と同じ, 1: 予定地・希望地の入力, 2: 決まっていない
    []"house_building_hope_prefecture_id": 13, //is_house_building_hopeが[1]なら必須
    []"house_building_hope_prefecture_name": "東京都", //is_house_building_hopeが[1]なら必須
    []"house_building_hope_city": "港区", //is_house_building_hopeが[1]なら必須
    []"is_land_availability": 0, // 0: 土地の所有無し, 1: 土地の所有あり //is_house_building_hopeが[1]なら必須
    [〇]"is_newsletter_subscribed": 1, // 0: 配信なし, 1: 配信あり
}
```

```
// 正常
HTTP:201
{
    "success": true,
    "message": "注文住宅カタログ請求者の登録が完了しました",
    "data": {
        "id": 1000,
    }
}
```

```
// エラー時
{
    "success": false,
    "message": "リクエストパラメータに誤りがあります",
    "errors": {}
}
```

---

// [更新] 注文住宅カタログ請求者

```
HTTP: PUT
```

```
// [〇]は必須項目 / API側でバリデーションチェック
{
    [〇]"id": 1000,
    [〇]"name01": "テスト",
    [〇]"name02": "太郎",
    []"kana01": "テスト",
    []"kana02": "タロウ",
    [〇]"email": "test@test.com",
    [〇]"phone_number": "09012345678",
    [〇]"postal_code": "444-9999",
    [〇]"prefecture_id": "13",
    [〇]"prefecture_name": "東京都",
    [〇]"address01": "",
    []"address02": "",
    []"age": "22",
    []"preferred_contact_time": "18時頃",
    [〇]"is_house_building_hope": 1, // 0:現住所と同じ, 1: 予定地・希望地の入力, 2: 決まっていない
    []"house_building_hope_prefecture_id": 13, //is_house_building_hopeが[1]なら必須
    []"house_building_hope_prefecture_name": "東京都", //is_house_building_hopeが[1]なら必須
    []"house_building_hope_city": "港区", //is_house_building_hopeが[1]なら必須
    []"is_land_availability": 0, // 0: 土地の所有無し, 1: 土地の所有あり //is_house_building_hopeが[1]なら必須
    [〇]"is_newsletter_subscribed": 1, // 0: 配信なし, 1: 配信あり
}
```

```
// 正常
HTTP:200
{
    "success": true,
    "message": "注文住宅カタログ請求者の更新が完了しました",
    "data": {
        "id": 1000,
    }
}
```

```
// エラー時
{
    "success": false,
    "message": "リクエストパラメータに誤りがあります",
    "errors": {}
}
```



## 注文住宅カタログ請求者一覧

```
//リクエスト: HTTP GET
{
    "page": "1",
    "per_page": "50", // 1ページ当たりの件数
    "free_word": "株式会社 モダン", // カタログ名、企業名など フリーワード検索「スペース区切り」にてリクエストします
    "company_id": "", // 企業ID - 10001 - 空なら全件、IDがあれば該当する企業IDに紐づくデータ取得
    "service_type_id": "", // 注文住宅、土地など
    "period": "", // 期間
    "order_by": "DESC", // ID: ASC: 昇順, DESC: 降順
}
```

```
//レスポンス
{
    "meta": {
        "page": 1,
        "from": 1,
        "to": 2,
        "per_page": 50,
        "total_count": 150,
        "last_page": 3
    },
    "links": {
        "first": "https://api.example.com/api/admin/catalog-requests?page=1",
        "last": "https://api.example.com/api/admin/catalog-requests?page=3",
        "prev": null,
        "next": "https://api.example.com/api/admin/catalog-requests?page=2"
    },
    "data": [
        {
            "id": "1000",
            "name01": "テスト",
            "name02": "太郎",
            "email": "test@test.com",
            "phone_number": "09012345678",
            "request_date": "2025-01-01 10:30",
            "catalog": {
                "id": "1000",
                "name": "モダンハウスカタログ2025",
                "description": "モダンハウスカタログ2025の説明",
                "code": "CD-000001",
                "image_path": "S3バケットURLから後ろのディレクトリパス",
                "category": "総合",
                "is_active": "1",
            },
            "company": {
                "id": "10001",
                "name": "株式会社山田建設",
            },
        },
        {
            "id": "1001",
            "name01": "テスト",
            "name02": "太郎",
            "email": "test@test.com",
            "phone_number": "09012345678",
            "request_date": "2025-01-01 10:30",
            "catalog": {
                "id": "1001",
                "name": "スマートホーム2025",
                "description": "スマートホーム2025の説明",
                "code": "CD-000001",
                "image_path": "S3バケットURLから後ろのディレクトリパス",
                "category": "総合",
                "is_active": "1",
            },
            "company": {
                "id": "10001",
                "name": "株式会社山田建設",
            },
        }
    ]
}
```

## 注文住宅カタログ請求者編集

```
HTTP: PUT
```

```
//リクエスト
{
    "id": "1000",
    "name01": "テスト",
    "name02": "太郎",
    "email": "test@test.com",
    "phone_number": "09012345678",
    "request_date": "2025-01-01 10:30",
    "catalog": {
        "id": "1000",
        "name": "モダンハウスカタログ2025",
        "description": "モダンハウスカタログ2025の説明",
        "code": "CD-000001",
        "image_path": "S3バケットURLから後ろのディレクトリパス",
        "category": "総合",
        "is_active": "1",
    },
    "company": {
        "id": "10001",
    },
}
```