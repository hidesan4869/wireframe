// ========== 共通マスタテーブル ==========

// 都道府県マスタ
prefectures {
  id // 都道府県ID（主キー）
  name // 都道府県名
}

// ========== メインテーブル ==========

// 企業情報
companies {
  id // 企業ID（主キー）
  service_category_id // サービスカテゴリID
  name // 企業名
  name_kana // 企業名（カナ）
  representative_last_name // 代表者姓
  representative_first_name // 代表者名
  postal_code // 郵便番号
  prefecture // 都道府県
  city // 市区町村
  address_line // 住所詳細
  invoice_status_id // インボイス対応状況ID
  invoice_number // インボイス登録番号
  invoice_scheduled_year // インボイス対応予定年
  invoice_scheduled_month // インボイス対応予定月
  phone_number // 電話番号
  email // メールアドレス
  is_active // アクティブフラグ
  created_at // 作成日時
  updated_at // 更新日時
}

// 企業詳細
cbh_company_details {
  id // 企業詳細ID（主キー）
  company_id > companies.id // 企業ID
  min_reference_price // 参考価格下限
  max_reference_price // 参考価格上限
  title // 企業キャッチコピー
  description // 企業説明文
  created_at // 作成日時
  updated_at // 更新日時
}

// 企業が選ばれる理由
cbh_company_recommends {
  id // 推薦理由ID（主キー）
  company_id > companies.id // 企業ID
  title // 推薦理由タイトル
  description // 推薦理由詳細
  sort_order // 表示順序
  created_at // 作成日時
  updated_at // 更新日時
}

// 企業が選ばれる理由の画像
cbh_company_recommend_images {
  id // 推薦理由画像ID（主キー）
  recommend_id > cbh_company_recommends.id // 推薦理由ID
  image_path // 画像パス
  title // 画像タイトル
  description // 画像説明
  sort_order // 表示順序
  created_at // 作成日時
  updated_at // 更新日時
}

// ========== 建築事例関連 ==========

// 建築事例
cbh_architectural_examples {
  id // 建築事例ID（主キー）
  company_id > companies.id // 企業ID
  title // 建築事例タイトル
  description // 建築事例説明
  price // 建築価格
  total_floor_area // 延床面積
  family_structure // 家族構成
  created_at // 作成日時
  updated_at // 更新日時
}

// 建築事例ギャラリー
cbh_architectural_example_galleries {
  id // ギャラリーID（主キー）
  architectural_example_id > cbh_architectural_examples.id // 建築事例ID
  title // 画像タイトル
  description // 画像説明
  image_path // 画像パス
  classification_name // 分類名（リビング、キッチンなど）
  sort_order // 表示順序
  created_at // 作成日時
  updated_at // 更新日時
}

// 建築事例の施主の声
cbh_architectural_example_client_voices {
  id // 施主の声ID（主キー）
  architectural_example_id > cbh_architectural_examples.id // 建築事例ID
  nickname // 施主のニックネーム
  title // 声のタイトル
  description // 声の内容
  type // 種別（0: こだわり, 1: 決めた理由）
  created_at // 作成日時
  updated_at // 更新日時
}

// 建築事例の間取り情報
cbh_architectural_example_floor_plans {
  id // 間取り情報ID（主キー）
  architectural_example_id > cbh_architectural_examples.id // 建築事例ID
  image_path // 間取り図画像パス
  title // 間取りタイトル
  description // 間取り説明
  sort_order // 表示順序
  created_at // 作成日時
  updated_at // 更新日時
}

// 建築事例タグ（中間テーブル）
cbh_architectural_example_tags {
  id // 建築事例タグID（主キー）
  architectural_example_id > cbh_architectural_examples.id // 建築事例ID
  feature_tag_id > cbh_feature_tags.id // 特徴タグID
  created_at // 作成日時
}

// ========== モデルハウス関連 ==========

// モデルハウステーブル
cbh_model_houses {
  id // モデルハウスID（主キー）
  company_id > companies.id // 企業ID
  name // モデルハウス名
  title // モデルハウスタイトル
  description // モデルハウス説明
  sort_number // 表示順序
  business_hours // 営業時間
  holidays // 休業日
  prefecture_id > prefectures.id // 都道府県ID
  postal_code // 郵便番号
  addr01 // 住所1（市区町村）
  addr02 // 住所2（番地・建物名）
  access // アクセス方法
  reservation_deadline // 予約期限
  exhibition_venue_name // 展示場名
  is_active // アクティブフラグ
  created_at // 作成日時
  updated_at // 更新日時
  deleted_at // 削除日時（論理削除）
}

// モデルハウスの内容
cbh_model_house_context {
  id // モデルハウス内容ID（主キー）
  model_houses_id > cbh_model_houses.id // モデルハウスID
  title // 内容タイトル
  description // 内容説明
}

// モデルハウスの見どころ
cbh_model_house_highlights {
  id // 見どころID（主キー）
  model_houses_id > cbh_model_houses.id // モデルハウスID
  image_path // 見どころ画像パス
  title // 見どころタイトル
  description // 見どころ説明
}

// モデルハウスの間取り図
cbh_model_house_floor_plan {
  id // 間取り図ID（主キー）
  model_houses_id > cbh_model_houses.id // モデルハウスID
  layer // 階層（1F、2Fなど）
  image_path // 間取り図画像パス
  title // 間取り図タイトル
  description // 間取り図説明
}

// モデルハウス画像
cbh_model_house_images {
  id // モデルハウス画像ID（主キー）
  model_house_id > cbh_model_houses.id // モデルハウスID
  image_path // 画像パス
  title // 画像タイトル
  description // 画像説明
  sort_order // 表示順序
  created_at // 作成日時
  updated_at // 更新日時
}

// モデルハウス予約スケジュール
cbh_model_house_reservation_schedules {
  id // 予約スケジュールID（主キー）
  model_house_id > cbh_model_houses.id // モデルハウスID
  date // 予約対象日
  status // 予約状況（0: 〇, 1: △, 2: ✕）
  created_at // 作成日時
  updated_at // 更新日時
}

// モデルハウス予約時間枠
cbh_model_house_reservation_time_slots {
  id // 時間枠ID（主キー）
  schedule_id > cbh_model_house_reservation_schedules.id // 予約スケジュールID
  time // 予約時間
  is_main // メイン見学時間フラグ
  max_capacity // 最大予約可能数
  current_capacity // 現在の予約数
  created_at // 作成日時
  updated_at // 更新日時
}

// モデルハウス特徴（中間テーブル）
cbh_model_house_features {
  id // モデルハウス特徴ID（主キー）
  model_house_id > cbh_model_houses.id // モデルハウスID
  feature_tag_id > cbh_feature_tags.id // 特徴タグID
  created_at // 作成日時
}

// ========== イベント関連 ==========

// イベントテーブル
cbh_events {
  id // イベントID（主キー）
  company_id > companies.id // 企業ID
  title // イベントタイトル
  description // イベント説明
  venue // 開催場所
  start_date // 開始日
  end_date // 終了日
  is_active // 公開設定フラグ
  postal_code // 郵便番号
  prefecture_id > prefectures.id // 都道府県ID
  addr01 // 住所1（市区町村）
  addr02 // 住所2（番地・建物名）
  time_required // 所要時間
  about_reservations // 予約について
  reservation_deadline // 予約締切日
  participation_fee // 参加費
  created_at // 作成日時
  updated_at // 更新日時
  deleted_at // 削除日時（論理削除）
}

// イベントのジャンル
cbh_event_genre {
  id // イベントジャンルID（主キー）
  cbh_events_id > cbh_events.id // イベントID
  genre_id > event_genre.id // ジャンルマスタID
  name // ジャンル名
  created_at // 作成日時
  updated_at // 更新日時
  deleted_at // 削除日時（論理削除）
}

// イベントの内容
cbh_event_context {
  id // イベント内容ID（主キー）
  cbh_events_id > cbh_events.id // イベントID
  title // 内容タイトル
  description // 内容説明
  created_at // 作成日時
  updated_at // 更新日時
  deleted_at // 削除日時（論理削除）
}

// イベントフロー
cbh_event_flows {
  id // イベントフローID（主キー）
  event_id > cbh_events.id // イベントID
  title // フロータイトル
  description // フロー説明
  image_path // フロー画像パス
  sort_order // 表示順序
  created_at // 作成日時
  updated_at // 更新日時
}

// イベント特徴（中間テーブル）
cbh_event_features {
  id // イベント特徴ID（主キー）
  event_id > cbh_events.id // イベントID
  feature_tag_id > cbh_feature_tags.id // 特徴タグID
  created_at // 作成日時
}

// ========== カタログ関連 ==========

// カタログ
cbh_catalogs {
  id // カタログID（主キー）
  company_id > companies.id // 企業ID
  code // カタログコード
  name // カタログ名
  description // カタログ説明
  image_path // カタログ画像パス
  catalog_category_id > catalog_category.id // カタログカテゴリID
  service_type_id > property_service_types.id // サービス種別ID
  is_active // アクティブフラグ
  created_at // 作成日時
  updated_at // 更新日時
}

// ========== 予約関連 ==========

// カタログ請求
cbh_catalog_requests {
  id // カタログ請求ID（主キー）
  catalog_id > cbh_catalogs.id // カタログID
  name01 // 姓
  name02 // 名
  kana01 // 姓（カナ）
  kana02 // 名（カナ）
  postal_code // 郵便番号
  prefecture_id > prefectures.id // 都道府県ID
  addr01 // 住所1（市区町村）
  addr02 // 住所2（番地・建物名）
  email // メールアドレス
  age // 年齢
  phone_number // 電話番号
  preferred_contact_time // 希望連絡時間
  is_house_building_hope // 家建築希望フラグ
  house_building_hope_prefecture_id > prefectures.id // 建築希望都道府県ID
  house_building_hope_city // 建築希望市区町村
  house_building_hope_address // 建築希望住所
  is_land_availability // 土地所有フラグ
  is_newsletter_subscribed // ニュースレター購読フラグ
  created_at // 作成日時
  updated_at // 更新日時
  deleted_at // 削除日時（論理削除）
}

// イベント予約
cbh_event_reservations {
  id // イベント予約ID（主キー）
  event_id > cbh_events.id // イベントID
  name01 // 姓
  name02 // 名
  kana01 // 姓（カナ）
  kana02 // 名（カナ）
  email // メールアドレス
  phone_number // 電話番号
  preferred_contact_time // 希望連絡時間
  desired_date // 希望参加日
  desired_time // 希望参加時間
  is_newsletter_subscribed // ニュースレター購読フラグ
  created_at // 作成日時
  updated_at // 更新日時
}

// モデルハウス見学予約
cbh_model_house_tour_reservations {
  id // 見学予約ID（主キー）
  model_house_id > cbh_model_houses.id // モデルハウスID
  name01 // 姓
  name02 // 名
  kana01 // 姓（カナ）
  kana02 // 名（カナ）
  email // メールアドレス
  phone_number // 電話番号
  preferred_date // 希望見学日
  preferred_time // 希望見学時間
  preferred_contact_time // 希望連絡時間
  is_newsletter_subscribed // ニュースレター購読フラグ
  created_at // 作成日時
  updated_at // 更新日時
}

// ========== 企業特徴関連 ==========

// 企業特徴（中間テーブル）
cbh_company_features {
  id // 企業特徴ID（主キー）
  company_id > companies.id // 企業ID
  feature_tag_id > cbh_feature_tags.id // 特徴タグID
  created_at // 作成日時
}

// ========== マスタテーブル ==========

// サービス種別マスタ（注文住宅、土地など）
property_service_types {
  id // サービス種別ID（主キー）
  name // サービス種別名
  sort_order // 表示順序
  created_at // 作成日時
  updated_at // 更新日時
}

// 特徴タグマスタ
cbh_feature_tags {
  id // 特徴タグID（主キー）
  category_id > cbh_feature_categories.id // 特徴カテゴリID
  name // 特徴タグ名
  description // 特徴タグ説明
  is_common // よくあるこだわりフラグ
  sort_order // 表示順序
  is_active // アクティブフラグ
  created_at // 作成日時
  updated_at // 更新日時
}

// 特徴カテゴリマスタ
cbh_feature_categories {
  id // 特徴カテゴリID（主キー）
  name // カテゴリ名
  description // カテゴリ説明
  sort_order // 表示順序
  is_active // アクティブフラグ
  created_at // 作成日時
  updated_at // 更新日時
}

// カタログのカテゴリー管理
catalog_category {
  id // カタログカテゴリID（主キー）
  name // カテゴリ名
  sort_number // 表示順序
}

// イベントのジャンル
event_genre {
  id // イベントジャンルID（主キー）
  name // ジャンル名
  sort_number // 表示順序
}