<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å†æå‡ºãƒ•ãƒ­ãƒ¼ç®¡ç† - ä¸å‹•ç”£ãƒãƒ¼ã‚¿ãƒ«ç®¡ç†ç”»é¢</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f9f9f9;
            color: #2c2c2c;
        }

        .container {
            display: flex;
            height: 100vh;
        }

        /* ãƒ˜ãƒƒãƒ€ãƒ¼ */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 60px;
            background: #2c2c2c;
            color: white;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 20px;
            z-index: 1000;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .header h1 {
            font-size: 20px;
            font-weight: 600;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        /* ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */
        .main-content {
            flex: 1;
            margin-top: 60px;
            padding: 30px;
            overflow-y: auto;
            max-width: 1400px;
            margin-left: auto;
            margin-right: auto;
        }

        .breadcrumb {
            background: white;
            padding: 15px 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 0 1px 2px rgba(0,0,0,0.1);
            font-size: 14px;
            color: #6a6a6a;
        }

        .breadcrumb a {
            color: #6a6a6a;
            text-decoration: none;
        }

        .breadcrumb a:hover {
            text-decoration: underline;
        }

        .page-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
        }

        .page-title {
            font-size: 28px;
            font-weight: 600;
            color: #2c2c2c;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.2s ease;
        }

        .btn-primary {
            background: #4a4a4a;
            color: white;
        }

        .btn-primary:hover {
            background: #3a3a3a;
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .btn-secondary:hover {
            background: #5a6268;
        }

        .btn-success {
            background: #5a5a5a;
            color: white;
        }

        .btn-success:hover {
            background: #4a4a4a;
        }

        .btn-warning {
            background: #888888;
            color: white;
        }

        .btn-warning:hover {
            background: #777777;
        }

        .btn-sm {
            padding: 6px 12px;
            font-size: 12px;
        }

        /* ã‚¢ãƒ©ãƒ¼ãƒˆ */
        .alert {
            padding: 15px 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .alert-info {
            background: #f8f8f8;
            border-left: 4px solid #666666;
            color: #222222;
        }

        .alert-warning {
            background: #f5f5f5;
            border-left: 4px solid #777777;
            color: #444444;
        }

        /* ãƒ•ãƒ­ãƒ¼ã‚¹ãƒ†ãƒƒãƒ— */
        .flow-container {
            background: white;
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 25px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        .flow-title {
            font-size: 20px;
            font-weight: 600;
            color: #2c2c2c;
            margin-bottom: 25px;
        }

        .flow-steps {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            position: relative;
        }

        .flow-steps::before {
            content: '';
            position: absolute;
            top: 25px;
            left: 60px;
            right: 60px;
            height: 2px;
            background: #d0d0d0;
            z-index: 1;
        }

        .flow-step {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            flex: 1;
            position: relative;
            z-index: 2;
        }

        .step-circle {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: #e0e0e0;
            color: #888888;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 16px;
            margin-bottom: 10px;
        }

        .step-circle.completed {
            background: #666666;
            color: white;
        }

        .step-circle.current {
            background: #4a4a4a;
            color: white;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% {
                box-shadow: 0 0 0 0 rgba(74, 74, 74, 0.4);
            }
            70% {
                box-shadow: 0 0 0 10px rgba(74, 74, 74, 0);
            }
            100% {
                box-shadow: 0 0 0 0 rgba(74, 74, 74, 0);
            }
        }

        .step-label {
            font-size: 12px;
            color: #666666;
            max-width: 100px;
            line-height: 1.3;
        }

        .step-label.completed {
            color: #2c2c2c;
            font-weight: 500;
        }

        .step-label.current {
            color: #2c2c2c;
            font-weight: 600;
        }

        /* è©³ç´°æƒ…å ± */
        .detail-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        .detail-section {
            background: #f8f8f8;
            padding: 20px;
            border-radius: 8px;
        }

        .detail-title {
            font-size: 16px;
            font-weight: 600;
            color: #4a4a4a;
            margin-bottom: 15px;
        }

        .detail-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-size: 14px;
        }

        .detail-label {
            color: #666666;
            min-width: 100px;
        }

        .detail-value {
            color: #2c2c2c;
            font-weight: 500;
        }

        /* ãƒ‡ãƒ¼ã‚¿ãƒ†ãƒ¼ãƒ–ãƒ« */
        .data-table {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            margin-bottom: 25px;
        }

        .table-header {
            padding: 20px 25px;
            background: #f5f5f5;
            border-bottom: 1px solid #d0d0d0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .table-title {
            font-size: 18px;
            font-weight: 600;
            color: #4a4a4a;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        thead th {
            background: #f5f5f5;
            padding: 15px;
            text-align: left;
            font-weight: 600;
            color: #4a4a4a;
            border-bottom: 2px solid #d0d0d0;
            font-size: 13px;
        }

        tbody td {
            padding: 15px;
            border-bottom: 1px solid #e8e8e8;
            font-size: 14px;
            vertical-align: middle;
        }

        tbody tr:hover {
            background: #f9f9f9;
        }

        tbody tr.resubmission {
            background: #f0f8ff;
            border-left: 4px solid #666666;
        }

        /* ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒƒã‚¸ */
        .status-badge {
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 600;
            display: inline-block;
            text-align: center;
            min-width: 100px;
        }

        .status-initial {
            background: #f0f0f0;
            color: #6a6a6a;
        }

        .status-rejected {
            background: #f5f5f5;
            color: #999999;
        }

        .status-revision {
            background: #eeeeee;
            color: #555555;
        }

        .status-resubmitted {
            background: #e8e8e8;
            color: #333333;
        }

        .status-re-approved {
            background: #d8d8d8;
            color: #1a1a1a;
        }

        /* æ¯”è¼ƒè¡¨ç¤º */
        .comparison-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 25px;
        }

        .comparison-panel {
            background: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        .comparison-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #f0f0f0;
        }

        .comparison-title {
            font-size: 16px;
            font-weight: 600;
            color: #4a4a4a;
        }

        .comparison-date {
            font-size: 12px;
            color: #777777;
        }

        .comparison-content {
            font-size: 14px;
            line-height: 1.5;
        }

        .diff-highlight {
            background: #f0f8ff;
            padding: 2px 4px;
            border-radius: 3px;
        }

        /* é¡§å®¢æƒ…å ± */
        .customer-info {
            display: flex;
            flex-direction: column;
            gap: 2px;
        }

        .customer-name {
            font-weight: 600;
            color: #2c2c2c;
        }

        .customer-contact {
            font-size: 12px;
            color: #7a7a7a;
        }

        /* ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ */
        .action-buttons {
            display: flex;
            gap: 5px;
            flex-wrap: wrap;
        }

        /* ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ */
        .timeline-container {
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        .timeline {
            position: relative;
            padding-left: 30px;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 12px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: #d0d0d0;
        }

        .timeline-item {
            position: relative;
            margin-bottom: 25px;
        }

        .timeline-marker {
            position: absolute;
            left: -22px;
            width: 10px;
            height: 10px;
            background: #999999;
            border: 3px solid white;
            border-radius: 50%;
            box-shadow: 0 0 0 2px #d0d0d0;
        }

        .timeline-marker.resubmission {
            background: #666666;
        }

        .timeline-marker.current {
            background: #4a4a4a;
            animation: pulse 2s infinite;
        }

        .timeline-content {
            background: #f8f8f8;
            padding: 15px;
            border-radius: 8px;
        }

        .timeline-title {
            font-weight: 600;
            color: #2c2c2c;
            margin-bottom: 5px;
        }

        .timeline-date {
            font-size: 12px;
            color: #777777;
            margin-bottom: 8px;
        }

        .timeline-description {
            font-size: 13px;
            color: #4a4a4a;
        }

        /* ãƒ¢ãƒ¼ãƒ€ãƒ« */
        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
        }

        .modal.show {
            display: block;
        }

        .modal-content {
            background-color: white;
            margin: 5% auto;
            padding: 0;
            border-radius: 12px;
            width: 95%;
            max-width: 900px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            max-height: 90vh;
            overflow-y: auto;
        }

        .modal-header {
            background: #2c2c2c;
            color: white;
            padding: 20px 25px;
            border-radius: 12px 12px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-title {
            font-size: 18px;
            font-weight: 600;
        }

        .close {
            background: none;
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
        }

        .modal-body {
            padding: 25px;
        }

        .modal-footer {
            padding: 20px 25px;
            border-top: 1px solid #d0d0d0;
            display: flex;
            justify-content: flex-end;
            gap: 10px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #4a4a4a;
        }

        .form-input, .form-select, .form-textarea {
            width: 100%;
            padding: 10px 12px;
            border: 1px solid #c0c0c0;
            border-radius: 6px;
            font-size: 14px;
        }

        .form-textarea {
            resize: vertical;
            min-height: 100px;
            font-family: inherit;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
        <header class="header">
            <h1 style="cursor: pointer;" onclick="window.location.href='index.html'">ä¸å‹•ç”£ãƒãƒ¼ã‚¿ãƒ«ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ </h1>
            <div class="user-info">
                <span>ç”°ä¸­ å¤ªéƒã•ã‚“</span>
                <button class="btn btn-secondary">ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ</button>
            </div>
        </header>

        <!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
        <main class="main-content">
            <div class="breadcrumb">
                <a href="index.html">ãƒ›ãƒ¼ãƒ </a> > 
                <a href="exception_approval_rejection.html">ä¾‹å¤–å‡¦ç†ç®¡ç†</a> > 
                å†æå‡ºãƒ•ãƒ­ãƒ¼
            </div>

            <div class="page-header">
                <h2 class="page-title">ğŸ”„ å†æå‡ºãƒ•ãƒ­ãƒ¼ç®¡ç†</h2>
                <button class="btn btn-primary" onclick="exportResubmissionReport()">
                    ğŸ“Š å†æå‡ºãƒ¬ãƒãƒ¼ãƒˆ
                </button>
            </div>

            <!-- ã‚¢ãƒ©ãƒ¼ãƒˆ -->
            <div class="alert alert-info">
                â„¹ï¸ ç¾åœ¨3ä»¶ã®å†æå‡ºæ¡ˆä»¶ãŒã‚ã‚Šã¾ã™ã€‚2ä»¶ã¯å†æ‰¿èªå¾…ã¡ã€1ä»¶ã¯ä¿®æ­£ä¸­ã§ã™ã€‚
            </div>

            <!-- å†æå‡ºãƒ•ãƒ­ãƒ¼æ¦‚è¦ -->
            <div class="flow-container">
                <h3 class="flow-title">å†æå‡ºå‡¦ç†ãƒ•ãƒ­ãƒ¼</h3>
                <div class="flow-steps">
                    <div class="flow-step">
                        <div class="step-circle completed">1</div>
                        <div class="step-label completed">åˆå›æå‡º</div>
                    </div>
                    <div class="flow-step">
                        <div class="step-circle completed">2</div>
                        <div class="step-label completed">å´ä¸‹ãƒ»ä¿®æ­£è¦æ±‚</div>
                    </div>
                    <div class="flow-step">
                        <div class="step-circle current">3</div>
                        <div class="step-label current">ä¼æ¥­ä¿®æ­£ãƒ»å†æå‡º</div>
                    </div>
                    <div class="flow-step">
                        <div class="step-circle">4</div>
                        <div class="step-label">å†æ‰¿èªå¯©æŸ»</div>
                    </div>
                    <div class="flow-step">
                        <div class="step-circle">5</div>
                        <div class="step-label">æœ€çµ‚æ‰¿èª</div>
                    </div>
                </div>

                <div class="detail-grid">
                    <div class="detail-section">
                        <h4 class="detail-title">ç¾åœ¨ã®çŠ¶æ³</h4>
                        <div class="detail-item">
                            <span class="detail-label">å†æå‡ºæ¡ˆä»¶</span>
                            <span class="detail-value">3ä»¶</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">å†æ‰¿èªå¾…ã¡</span>
                            <span class="detail-value">2ä»¶</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">ä¿®æ­£ä¸­</span>
                            <span class="detail-value">1ä»¶</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">å¹³å‡å‡¦ç†æ—¥æ•°</span>
                            <span class="detail-value">5.2æ—¥</span>
                        </div>
                    </div>
                    <div class="detail-section">
                        <h4 class="detail-title">å‡¦ç†çµ±è¨ˆï¼ˆä»Šæœˆï¼‰</h4>
                        <div class="detail-item">
                            <span class="detail-label">åˆå›å´ä¸‹ç‡</span>
                            <span class="detail-value">12.5%</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">å†æå‡ºæˆåŠŸç‡</span>
                            <span class="detail-value">87.5%</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">è¤‡æ•°å›å´ä¸‹</span>
                            <span class="detail-value">2ä»¶</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">å¹³å‡ä¿®æ­£æ™‚é–“</span>
                            <span class="detail-value">2.8æ—¥</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- å†æå‡ºæ¡ˆä»¶ä¸€è¦§ -->
            <div class="data-table">
                <div class="table-header">
                    <h3 class="table-title">å†æå‡ºæ¡ˆä»¶ä¸€è¦§</h3>
                    <div class="action-buttons">
                        <button class="btn btn-primary btn-sm" onclick="bulkReview()">ä¸€æ‹¬ãƒ¬ãƒ“ãƒ¥ãƒ¼</button>
                        <button class="btn btn-secondary btn-sm" onclick="prioritySort()">å„ªå…ˆåº¦é †</button>
                    </div>
                </div>
                
                <table>
                    <thead>
                        <tr>
                            <th>é€å®¢ID</th>
                            <th>é¡§å®¢æƒ…å ±</th>
                            <th>ä¼æ¥­å</th>
                            <th>åˆå›å´ä¸‹ç†ç”±</th>
                            <th>å†æå‡ºæ—¥æ™‚</th>
                            <th>ä¿®æ­£å†…å®¹</th>
                            <th>ç¾åœ¨ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹</th>
                            <th>æ“ä½œ</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="resubmission">
                            <td style="font-weight: 600;">REF-003</td>
                            <td>
                                <div class="customer-info">
                                    <div class="customer-name">é«˜æ©‹ ç¾å’²</div>
                                    <div class="customer-contact">090-3333-4444</div>
                                </div>
                            </td>
                            <td>å±±ç”°å»ºè¨­</td>
                            <td>è¦‹ç©è©³ç´°ã®è¿½è¨˜è¦æ±‚</td>
                            <td>
                                <div>2025-08-25</div>
                                <div style="font-size: 11px; color: #7a7a7a;">16:45</div>
                            </td>
                            <td>è©³ç´°è¦‹ç©æ›¸æ·»ä»˜<br>é¡§å®¢ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯è¿½è¨˜</td>
                            <td><span class="status-badge status-resubmitted">å†æ‰¿èªå¾…ã¡</span></td>
                            <td>
                                <div class="action-buttons">
                                    <button class="btn btn-primary btn-sm" onclick="reviewResubmission('REF-003')">æ‰¿èªå¯©æŸ»</button>
                                    <button class="btn btn-secondary btn-sm" onclick="compareVersions('REF-003')">å¤‰æ›´æ¯”è¼ƒ</button>
                                </div>
                            </td>
                        </tr>

                        <tr class="resubmission">
                            <td style="font-weight: 600;">REF-007</td>
                            <td>
                                <div class="customer-info">
                                    <div class="customer-name">ä¼Šè—¤ å¥äºŒ</div>
                                    <div class="customer-contact">080-4444-5555</div>
                                </div>
                            </td>
                            <td>ç”°ä¸­ä¸å‹•ç”£</td>
                            <td>å¥‘ç´„é‡‘é¡æœªå…¥åŠ›</td>
                            <td>
                                <div>2025-08-27</div>
                                <div style="font-size: 11px; color: #7a7a7a;">09:30</div>
                            </td>
                            <td>æ­£ç¢ºãªå¥‘ç´„é‡‘é¡å…¥åŠ›<br>å¥‘ç´„æ›¸é¡æ·»ä»˜</td>
                            <td><span class="status-badge status-resubmitted">å†æ‰¿èªå¾…ã¡</span></td>
                            <td>
                                <div class="action-buttons">
                                    <button class="btn btn-primary btn-sm" onclick="reviewResubmission('REF-007')">æ‰¿èªå¯©æŸ»</button>
                                    <button class="btn btn-secondary btn-sm" onclick="compareVersions('REF-007')">å¤‰æ›´æ¯”è¼ƒ</button>
                                </div>
                            </td>
                        </tr>

                        <tr style="background: #fffacd;">
                            <td style="font-weight: 600;">REF-011</td>
                            <td>
                                <div class="customer-info">
                                    <div class="customer-name">ä¸­æ‘ å’Œå­</div>
                                    <div class="customer-contact">070-5555-6666</div>
                                </div>
                            </td>
                            <td>ä½è—¤ãƒã‚¦ã‚¸ãƒ³ã‚°</td>
                            <td>ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹é·ç§»èª¬æ˜ä¸è¶³</td>
                            <td>
                                <div style="color: #888888;">ä¿®æ­£ä¸­</div>
                                <div style="font-size: 11px; color: #aaa;">æœŸé™: 09-03</div>
                            </td>
                            <td>ä¿®æ­£é€²è¡Œä¸­...</td>
                            <td><span class="status-badge status-revision">ä¿®æ­£ä¸­</span></td>
                            <td>
                                <div class="action-buttons">
                                    <button class="btn btn-warning btn-sm" onclick="sendReminder('REF-011')">å‚¬ä¿ƒ</button>
                                    <button class="btn btn-secondary btn-sm" onclick="viewOriginal('REF-011')">å…ƒç‰ˆç¢ºèª</button>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- è©³ç´°ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ -->
            <div class="timeline-container">
                <h3 class="table-title" style="margin-bottom: 20px;">ğŸ• å†æå‡ºå‡¦ç†ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³</h3>
                <div class="timeline">
                    <div class="timeline-item">
                        <div class="timeline-marker current"></div>
                        <div class="timeline-content">
                            <div class="timeline-title">REF-003 å†æ‰¿èªå¯©æŸ»é–‹å§‹</div>
                            <div class="timeline-date">2025-08-28 10:15</div>
                            <div class="timeline-description">
                                é«˜æ©‹ç¾å’²æ§˜ã®æ¡ˆä»¶ã«ã¤ã„ã¦å†æ‰¿èªå¯©æŸ»ã‚’é–‹å§‹ã—ã¾ã—ãŸã€‚
                                ä¿®æ­£å†…å®¹: è©³ç´°è¦‹ç©æ›¸ã®æ·»ä»˜ã€é¡§å®¢ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã®è¿½è¨˜
                            </div>
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-marker resubmission"></div>
                        <div class="timeline-content">
                            <div class="timeline-title">REF-003 å†æå‡ºå®Œäº†</div>
                            <div class="timeline-date">2025-08-25 16:45</div>
                            <div class="timeline-description">
                                å±±ç”°å»ºè¨­ã‚ˆã‚Šå†æå‡ºãŒå®Œäº†ã—ã¾ã—ãŸã€‚
                                ä¿®æ­£é …ç›®: è¦‹ç©è©³ç´°ã®è¿½è¨˜ã€é¡§å®¢ã¨ã®å•†è«‡çµŒç·¯ã®è©³ç´°åŒ–
                            </div>
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-marker"></div>
                        <div class="timeline-content">
                            <div class="timeline-title">REF-003 ä¿®æ­£è¦æ±‚é€šçŸ¥</div>
                            <div class="timeline-date">2025-08-10 14:20</div>
                            <div class="timeline-description">
                                å±±ç”°å»ºè¨­ã«ä¿®æ­£è¦æ±‚ã‚’é€šçŸ¥ã—ã¾ã—ãŸã€‚
                                è¦æ±‚å†…å®¹: è¦‹ç©æå‡ºã®è©³ç´°ãªé‡‘é¡å†…è¨³ã¨é¡§å®¢ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯å†…å®¹ã®è¿½è¨˜
                            </div>
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-marker"></div>
                        <div class="timeline-content">
                            <div class="timeline-title">REF-003 åˆå›å¯©æŸ»ãƒ»ä¿®æ­£è¦æ±‚</div>
                            <div class="timeline-date">2025-08-05 11:30</div>
                            <div class="timeline-description">
                                åˆå›å¯©æŸ»ã«ãŠã„ã¦ä¿®æ­£è¦æ±‚ã¨åˆ¤å®šã•ã‚Œã¾ã—ãŸã€‚
                                ç†ç”±: è¦‹ç©æå‡ºæ®µéšã§ã®è©³ç´°æƒ…å ±ä¸è¶³
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- å¤‰æ›´æ¯”è¼ƒãƒ¢ãƒ¼ãƒ€ãƒ« -->
    <div id="comparisonModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">å¤‰æ›´å†…å®¹æ¯”è¼ƒ: REF-003</h3>
                <button class="close" onclick="closeModal('comparisonModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="comparison-container">
                    <div class="comparison-panel">
                        <div class="comparison-header">
                            <div class="comparison-title">åˆå›æå‡ºç‰ˆ</div>
                            <div class="comparison-date">2025-07-31 17:00</div>
                        </div>
                        <div class="comparison-content">
                            <p><strong>ç¾åœ¨ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹:</strong> è¦‹ç©æå‡º</p>
                            <p><strong>å¥‘ç´„é‡‘é¡:</strong> 3,500ä¸‡å††</p>
                            <p><strong>é€²æ—ãƒ¡ãƒ¢:</strong> è¦‹ç©æ›¸ã‚’æå‡ºæ¸ˆã¿</p>
                            <p><strong>è¨¼è·¡æ›¸é¡:</strong> è¦‹ç©æ›¸.pdf</p>
                        </div>
                    </div>
                    <div class="comparison-panel">
                        <div class="comparison-header">
                            <div class="comparison-title">å†æå‡ºç‰ˆ</div>
                            <div class="comparison-date">2025-08-25 16:45</div>
                        </div>
                        <div class="comparison-content">
                            <p><strong>ç¾åœ¨ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹:</strong> è¦‹ç©æå‡º</p>
                            <p><strong>å¥‘ç´„é‡‘é¡:</strong> 3,500ä¸‡å††</p>
                            <p><strong>é€²æ—ãƒ¡ãƒ¢:</strong> <span class="diff-highlight">è©³ç´°è¦‹ç©æ›¸ã‚’æå‡ºæ¸ˆã¿ã€‚ãŠå®¢æ§˜ã‚ˆã‚Šã€Œãƒ—ãƒ©ãƒ³AãŒå¸Œæœ›ã«è¿‘ã„ã€ã¨ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’é ‚æˆ´ã€‚æ¬¡å›å•†è«‡ã§è©³ç´°æ¡ä»¶ã‚’è©°ã‚ã‚‹äºˆå®šã€‚</span></p>
                            <p><strong>è¨¼è·¡æ›¸é¡:</strong> è¦‹ç©æ›¸.pdf<span class="diff-highlight">, è©³ç´°è¦‹ç©æ›¸.pdf, å•†è«‡è­°äº‹éŒ².pdf</span></p>
                        </div>
                    </div>
                </div>
                
                <div class="alert alert-info">
                    <strong>ä¸»ãªå¤‰æ›´ç‚¹:</strong>
                    <ul style="margin: 10px 0 0 20px;">
                        <li>é€²æ—ãƒ¡ãƒ¢ã«é¡§å®¢ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã®è©³ç´°ã‚’è¿½åŠ </li>
                        <li>è¨¼è·¡æ›¸é¡ã¨ã—ã¦è©³ç´°è¦‹ç©æ›¸ã¨å•†è«‡è­°äº‹éŒ²ã‚’è¿½åŠ </li>
                        <li>æ¬¡å›å•†è«‡ã®å…·ä½“çš„ãªäºˆå®šã‚’æ˜è¨˜</li>
                    </ul>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal('comparisonModal')">é–‰ã˜ã‚‹</button>
                <button class="btn btn-success" onclick="approveResubmission()">ã“ã®ä¿®æ­£ã§æ‰¿èª</button>
                <button class="btn btn-warning" onclick="requestAdditionalRevision()">è¿½åŠ ä¿®æ­£è¦æ±‚</button>
            </div>
        </div>
    </div>

    <!-- å†æ‰¿èªå¯©æŸ»ãƒ¢ãƒ¼ãƒ€ãƒ« -->
    <div id="reapprovalModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">å†æ‰¿èªå¯©æŸ»</h3>
                <button class="close" onclick="closeModal('reapprovalModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">é€å®¢ID</label>
                    <input type="text" class="form-input" id="reapprovalReferralId" readonly>
                </div>
                <div class="form-group">
                    <label class="form-label">å¯©æŸ»çµæœ</label>
                    <select class="form-select" id="reapprovalDecision">
                        <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
                        <option value="approved">æ‰¿èª</option>
                        <option value="additional_revision">è¿½åŠ ä¿®æ­£è¦æ±‚</option>
                        <option value="rejected">å†å´ä¸‹</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">å¯©æŸ»ã‚³ãƒ¡ãƒ³ãƒˆ</label>
                    <textarea class="form-textarea" id="reapprovalComment" placeholder="å¯©æŸ»çµæœã®è©³ç´°ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„"></textarea>
                </div>
                <div class="form-group" id="additionalRevisionGroup" style="display: none;">
                    <label class="form-label">è¿½åŠ ä¿®æ­£è¦æ±‚å†…å®¹</label>
                    <textarea class="form-textarea" id="additionalRevisionRequest" placeholder="è¿½åŠ ã§ä¿®æ­£ãŒå¿…è¦ãªç‚¹ã‚’å…·ä½“çš„ã«è¨˜è¼‰ã—ã¦ãã ã•ã„"></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal('reapprovalModal')">ã‚­ãƒ£ãƒ³ã‚»ãƒ«</button>
                <button class="btn btn-primary" onclick="submitReapproval()">å¯©æŸ»çµæœã‚’ç™»éŒ²</button>
            </div>
        </div>
    </div>

    <script>
        // å†æ‰¿èªå¯©æŸ»
        function reviewResubmission(referralId) {
            document.getElementById('reapprovalReferralId').value = referralId;
            document.getElementById('reapprovalModal').classList.add('show');
        }

        // å¤‰æ›´æ¯”è¼ƒ
        function compareVersions(referralId) {
            document.getElementById('comparisonModal').classList.add('show');
        }

        // å¯©æŸ»æ±ºå®šå¤‰æ›´æ™‚ã®è¿½åŠ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰è¡¨ç¤ºåˆ¶å¾¡
        document.getElementById('reapprovalDecision').addEventListener('change', function() {
            const decision = this.value;
            const additionalGroup = document.getElementById('additionalRevisionGroup');
            
            if (decision === 'additional_revision') {
                additionalGroup.style.display = 'block';
            } else {
                additionalGroup.style.display = 'none';
            }
        });

        // å†æ‰¿èªå¯©æŸ»çµæœæå‡º
        function submitReapproval() {
            const referralId = document.getElementById('reapprovalReferralId').value;
            const decision = document.getElementById('reapprovalDecision').value;
            const comment = document.getElementById('reapprovalComment').value;
            
            if (!decision || !comment) {
                alert('å¯©æŸ»çµæœã¨ã‚³ãƒ¡ãƒ³ãƒˆã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚');
                return;
            }
            
            let message;
            switch(decision) {
                case 'approved':
                    message = 'å†æ‰¿èªã—ã¾ã—ãŸã€‚ä¼æ¥­ã«é€šçŸ¥ã•ã‚Œã¾ã™ã€‚';
                    break;
                case 'additional_revision':
                    message = 'è¿½åŠ ä¿®æ­£è¦æ±‚ã‚’é€ä¿¡ã—ã¾ã—ãŸã€‚';
                    break;
                case 'rejected':
                    message = 'å†å´ä¸‹ã—ã¾ã—ãŸã€‚ä¼æ¥­ã«é€šçŸ¥ã•ã‚Œã¾ã™ã€‚';
                    break;
            }
            
            alert(message);
            closeModal('reapprovalModal');
        }

        // æ¯”è¼ƒãƒ¢ãƒ¼ãƒ€ãƒ«ã‹ã‚‰ã®ç›´æ¥æ‰¿èª
        function approveResubmission() {
            if (confirm('ã“ã®ä¿®æ­£å†…å®¹ã§æ‰¿èªã—ã¾ã™ã‹ï¼Ÿ')) {
                alert('å†æ‰¿èªå®Œäº†ã—ã¾ã—ãŸã€‚ä¼æ¥­ã«é€šçŸ¥ã•ã‚Œã¾ã™ã€‚');
                closeModal('comparisonModal');
            }
        }

        // è¿½åŠ ä¿®æ­£è¦æ±‚
        function requestAdditionalRevision() {
            const additionalRequest = prompt('è¿½åŠ ã§ä¿®æ­£ãŒå¿…è¦ãªç‚¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„:');
            if (additionalRequest) {
                alert('è¿½åŠ ä¿®æ­£è¦æ±‚ã‚’é€ä¿¡ã—ã¾ã—ãŸã€‚');
                closeModal('comparisonModal');
            }
        }

        // å‚¬ä¿ƒé€šçŸ¥
        function sendReminder(referralId) {
            if (confirm(`${referralId}ã«ä¿®æ­£å‚¬ä¿ƒã‚’é€ä¿¡ã—ã¾ã™ã‹ï¼Ÿ`)) {
                alert('ä¿®æ­£å‚¬ä¿ƒã‚’é€ä¿¡ã—ã¾ã—ãŸã€‚');
            }
        }

        // å…ƒç‰ˆç¢ºèª
        function viewOriginal(referralId) {
            alert(`${referralId}ã®åˆå›æå‡ºç‰ˆã‚’è¡¨ç¤ºã—ã¾ã™ã€‚`);
        }

        // ä¸€æ‹¬ãƒ¬ãƒ“ãƒ¥ãƒ¼
        function bulkReview() {
            alert('å†æå‡ºæ¸ˆã¿ã®å…¨æ¡ˆä»¶ã‚’ä¸€æ‹¬ãƒ¬ãƒ“ãƒ¥ãƒ¼ç”»é¢ã§é–‹ãã¾ã™ã€‚');
        }

        // å„ªå…ˆåº¦é †ã‚½ãƒ¼ãƒˆ
        function prioritySort() {
            alert('å„ªå…ˆåº¦ï¼ˆæå‡ºæ—¥ã€ä¿®æ­£å†…å®¹ã®é‡è¦åº¦ï¼‰é †ã«ã‚½ãƒ¼ãƒˆã—ã¾ã—ãŸã€‚');
        }

        // ãƒ¬ãƒãƒ¼ãƒˆå‡ºåŠ›
        function exportResubmissionReport() {
            alert('å†æå‡ºå‡¦ç†ãƒ¬ãƒãƒ¼ãƒˆã‚’å‡ºåŠ›ã—ã¾ã™ã€‚\n- å†æå‡ºæ¡ˆä»¶ä¸€è¦§\n- å‡¦ç†æ™‚é–“çµ±è¨ˆ\n- ä¿®æ­£å†…å®¹åˆ†æ');
        }

        // ãƒ¢ãƒ¼ãƒ€ãƒ«æ“ä½œ
        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('show');
        }

        // ãƒ¢ãƒ¼ãƒ€ãƒ«å¤–ã‚¯ãƒªãƒƒã‚¯ã§é–‰ã˜ã‚‹
        window.onclick = function(event) {
            if (event.target.classList.contains('modal')) {
                event.target.classList.remove('show');
            }
        }
    </script>
</body>
</html>